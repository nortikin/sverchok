<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1">
<meta name="generator" content="pdoc3 0.11.6">
<title>sverchok.dependencies API documentation</title>
<meta name="description" content="This module contains some general code to support external dependencies in
Sverchok, and declarations of specific dependencies …">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/10up-sanitize.css/13.0.0/sanitize.min.css" integrity="sha512-y1dtMcuvtTMJc1yPgEqF0ZjQbhnc/bFhyvIyVNb9Zk5mIGtqVaAB1Ttl28su8AvFMOY0EwRbAe+HCLqj6W7/KA==" crossorigin>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/10up-sanitize.css/13.0.0/typography.min.css" integrity="sha512-Y1DYSb995BAfxobCkKepB1BqJJTPrOp3zPL74AWFugHHmmdcvO+C48WLrUOlhGMc0QG7AE3f7gmvvcrmX2fDoA==" crossorigin>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/default.min.css" crossorigin>
<style>:root{--highlight-color:#fe9}.flex{display:flex !important}body{line-height:1.5em}#content{padding:20px}#sidebar{padding:1.5em;overflow:hidden}#sidebar > *:last-child{margin-bottom:2cm}.http-server-breadcrumbs{font-size:130%;margin:0 0 15px 0}#footer{font-size:.75em;padding:5px 30px;border-top:1px solid #ddd;text-align:right}#footer p{margin:0 0 0 1em;display:inline-block}#footer p:last-child{margin-right:30px}h1,h2,h3,h4,h5{font-weight:300}h1{font-size:2.5em;line-height:1.1em}h2{font-size:1.75em;margin:2em 0 .50em 0}h3{font-size:1.4em;margin:1.6em 0 .7em 0}h4{margin:0;font-size:105%}h1:target,h2:target,h3:target,h4:target,h5:target,h6:target{background:var(--highlight-color);padding:.2em 0}a{color:#058;text-decoration:none;transition:color .2s ease-in-out}a:visited{color:#503}a:hover{color:#b62}.title code{font-weight:bold}h2[id^="header-"]{margin-top:2em}.ident{color:#900;font-weight:bold}pre code{font-size:.8em;line-height:1.4em;padding:1em;display:block}code{background:#f3f3f3;font-family:"DejaVu Sans Mono",monospace;padding:1px 4px;overflow-wrap:break-word}h1 code{background:transparent}pre{border-top:1px solid #ccc;border-bottom:1px solid #ccc;margin:1em 0}#http-server-module-list{display:flex;flex-flow:column}#http-server-module-list div{display:flex}#http-server-module-list dt{min-width:10%}#http-server-module-list p{margin-top:0}.toc ul,#index{list-style-type:none;margin:0;padding:0}#index code{background:transparent}#index h3{border-bottom:1px solid #ddd}#index ul{padding:0}#index h4{margin-top:.6em;font-weight:bold}@media (min-width:200ex){#index .two-column{column-count:2}}@media (min-width:300ex){#index .two-column{column-count:3}}dl{margin-bottom:2em}dl dl:last-child{margin-bottom:4em}dd{margin:0 0 1em 3em}#header-classes + dl > dd{margin-bottom:3em}dd dd{margin-left:2em}dd p{margin:10px 0}.name{background:#eee;font-size:.85em;padding:5px 10px;display:inline-block;min-width:40%}.name:hover{background:#e0e0e0}dt:target .name{background:var(--highlight-color)}.name > span:first-child{white-space:nowrap}.name.class > span:nth-child(2){margin-left:.4em}.inherited{color:#999;border-left:5px solid #eee;padding-left:1em}.inheritance em{font-style:normal;font-weight:bold}.desc h2{font-weight:400;font-size:1.25em}.desc h3{font-size:1em}.desc dt code{background:inherit}.source > summary,.git-link-div{color:#666;text-align:right;font-weight:400;font-size:.8em;text-transform:uppercase}.source summary > *{white-space:nowrap;cursor:pointer}.git-link{color:inherit;margin-left:1em}.source pre{max-height:500px;overflow:auto;margin:0}.source pre code{font-size:12px;overflow:visible;min-width:max-content}.hlist{list-style:none}.hlist li{display:inline}.hlist li:after{content:',\2002'}.hlist li:last-child:after{content:none}.hlist .hlist{display:inline;padding-left:1em}img{max-width:100%}td{padding:0 .5em}.admonition{padding:.1em 1em;margin:1em 0}.admonition-title{font-weight:bold}.admonition.note,.admonition.info,.admonition.important{background:#aef}.admonition.todo,.admonition.versionadded,.admonition.tip,.admonition.hint{background:#dfd}.admonition.warning,.admonition.versionchanged,.admonition.deprecated{background:#fd4}.admonition.error,.admonition.danger,.admonition.caution{background:lightpink}</style>
<style media="screen and (min-width: 700px)">@media screen and (min-width:700px){#sidebar{width:30%;height:100vh;overflow:auto;position:sticky;top:0}#content{width:70%;max-width:100ch;padding:3em 4em;border-left:1px solid #ddd}pre code{font-size:1em}.name{font-size:1em}main{display:flex;flex-direction:row-reverse;justify-content:flex-end}.toc ul ul,#index ul ul{padding-left:1em}.toc > ul > li{margin-top:.5em}}</style>
<style media="print">@media print{#sidebar h1{page-break-before:always}.source{display:none}}@media print{*{background:transparent !important;color:#000 !important;box-shadow:none !important;text-shadow:none !important}a[href]:after{content:" (" attr(href) ")";font-size:90%}a[href][title]:after{content:none}abbr[title]:after{content:" (" attr(title) ")"}.ir a:after,a[href^="javascript:"]:after,a[href^="#"]:after{content:""}pre,blockquote{border:1px solid #999;page-break-inside:avoid}thead{display:table-header-group}tr,img{page-break-inside:avoid}img{max-width:100% !important}@page{margin:0.5cm}p,h2,h3{orphans:3;widows:3}h1,h2,h3,h4,h5,h6{page-break-after:avoid}}</style>
<script defer src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js" integrity="sha512-D9gUyxqja7hBtkWpPWGt9wfbfaMGVt9gnyCvYa+jojwwPHLCzUm5i8rpk7vD7wNee9bA35eYIjobYPaQuKS1MQ==" crossorigin></script>
<script>window.addEventListener('DOMContentLoaded', () => {
hljs.configure({languages: ['bash', 'css', 'diff', 'graphql', 'ini', 'javascript', 'json', 'plaintext', 'python', 'python-repl', 'rust', 'shell', 'sql', 'typescript', 'xml', 'yaml']});
hljs.highlightAll();
/* Collapse source docstrings */
setTimeout(() => {
[...document.querySelectorAll('.hljs.language-python > .hljs-string')]
.filter(el => el.innerHTML.length > 200 && ['"""', "'''"].includes(el.innerHTML.substring(0, 3)))
.forEach(el => {
let d = document.createElement('details');
d.classList.add('hljs-string');
d.innerHTML = '<summary>"""</summary>' + el.innerHTML.substring(3);
el.replaceWith(d);
});
}, 100);
})</script>
</head>
<body>
<main>
<article id="content">
<header>
<h1 class="title">Module <code>sverchok.dependencies</code></h1>
</header>
<section id="section-intro">
<p>This module contains some general code to support external dependencies in
Sverchok, and declarations of specific dependencies.</p>
<p>In most cases, one imports required dependency modules from this module.
If the corresponding library is not installed, this will import None value
instead of actual module, so that one can execute another version of code:</p>
<pre><code>from sverchok.dependencies import scipy

if scipy is None:
    print("SciPy is not available, will try to do without it")
else:
    from scipy.optimize import minimize_scalar
    ...
</code></pre>
<p>todo: Create dependencies.txt file and import modules from there</p>
</section>
<section>
</section>
<section>
</section>
<section>
<h2 class="section-title" id="header-functions">Functions</h2>
<dl>
<dt id="sverchok.dependencies.draw_message"><code class="name flex">
<span>def <span class="ident">draw_message</span></span>(<span>box, package, dependencies=None)</span>
</code></dt>
<dd>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def draw_message(box, package, dependencies=None):
    &#34;&#34;&#34;
    Draw standard set of UI elements about dependency in preferences dialog:

    * message about whether the dependency is installed
    * visit package website
    * install or upgrade with PIP, if possible
    &#34;&#34;&#34;
    if dependencies is None:
        dependencies = sv_dependencies

    dependency = dependencies[package]
    col = box.column(align=True)
    col.label(text=dependency.message, icon=get_icon(dependency.module))
    row = col.row(align=True)
    row.operator(&#39;wm.url_open&#39;, text=&#34;Visit package website&#34;).url = dependency.url
    if dependency.module is None and dependency.pip_installable and pip is not None:
        row.operator(&#39;node.sv_ex_pip_install&#39;, text=&#34;Install with PIP&#34;).package = dependency.package
    elif dependency.pip_installable and pip is not None:
        op = row.operator(&#39;node.sv_ex_pip_install&#39;, text=&#34;Upgrade with PIP&#34;).package = dependency.package
    return row</code></pre>
</details>
<div class="desc"><p>Draw standard set of UI elements about dependency in preferences dialog:</p>
<ul>
<li>message about whether the dependency is installed</li>
<li>visit package website</li>
<li>install or upgrade with PIP, if possible</li>
</ul></div>
</dd>
<dt id="sverchok.dependencies.get_icon"><code class="name flex">
<span>def <span class="ident">get_icon</span></span>(<span>package)</span>
</code></dt>
<dd>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def get_icon(package):
    &#34;&#34;&#34;
    Return name of icon to be displayed in preferences dialog, depending on
    whether the dependency is available or not.
    &#34;&#34;&#34;
    if package is None:
        return &#39;CANCEL&#39;
    else:
        return &#39;CHECKMARK&#39;</code></pre>
</details>
<div class="desc"><p>Return name of icon to be displayed in preferences dialog, depending on
whether the dependency is available or not.</p></div>
</dd>
<dt id="sverchok.dependencies.register"><code class="name flex">
<span>def <span class="ident">register</span></span>(<span>)</span>
</code></dt>
<dd>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def register():
    good_names = [d.package for d in sv_dependencies.values()
                  if d.module is not None and d.package is not None]
    if good_names:
        logger.info(&#34;Dependencies available: %s.&#34;, &#34;, &#34;.join(good_names))
    else:
        logger.info(&#34;No dependencies are available.&#34;)
    bpy.utils.register_class(DI_OT_install_or_update_dependencies_operator)</code></pre>
</details>
<div class="desc"></div>
</dd>
<dt id="sverchok.dependencies.unregister"><code class="name flex">
<span>def <span class="ident">unregister</span></span>(<span>)</span>
</code></dt>
<dd>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def unregister():
    bpy.utils.unregister_class(DI_OT_install_or_update_dependencies_operator)</code></pre>
</details>
<div class="desc"></div>
</dd>
</dl>
</section>
<section>
<h2 class="section-title" id="header-classes">Classes</h2>
<dl>
<dt id="sverchok.dependencies.DI_OT_install_or_update_dependencies_operator"><code class="flex name class">
<span>class <span class="ident">DI_OT_install_or_update_dependencies_operator</span></span>
<span>(</span><span>...)</span>
</code></dt>
<dd>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">class DI_OT_install_or_update_dependencies_operator(bpy.types.Operator):
    bl_idname = &#34;sverchok.install_or_update_dependencies_operator&#34;
    bl_label = &#34;Install or update Sverchok Dependencies operator&#34;
    bl_description = &#34;Install or update installable dependencies. Not all dependencies are installable. Restart Blender after update or install dependencies.\nATTENTION: UPDATE PIP FIRST and restart Blender&#34;

    #items: bpy.props.CollectionProperty(type=DependencyItemName)
    serialized_items: bpy.props.StringProperty()

    def execute(self, context):
        items = self.serialized_items.split(&#39;;&#39;)
        for item in items:
            try:
                dependency = sv_dependencies[item]
                if dependency.module is None and dependency.pip_installable and pip is not None:
                    print(f&#34;===&gt;&gt; Install Dependency: {item}&#34;)
                    res = bpy.ops.node.sv_ex_pip_install(package = dependency.package)
                    #res = bpy.ops.node.sv_ex_pip_install(&#39;INVOKE_DEFAULT&#39;, package = dependency.package)
                elif dependency.pip_installable and pip is not None:
                    print(f&#34;===&gt;&gt; Install Dependency: {item}&#34;)
                    res = bpy.ops.node.sv_ex_pip_install(package = dependency.package)
                    #res = bpy.ops.node.sv_ex_pip_install(&#39;INVOKE_DEFAULT&#39;, package = dependency.package)
                else:
                    print(f&#34;===&gt;&gt; Skip Install Dependency: {item}&#34;)
                    continue
                print(f&#34;{item} installed with result: {res}&#34;)
            except Exception as _ex:
                pass
        self.report({&#39;INFO&#39;}, &#34;Please restart Blender to see effect of upgrade dependencies.&#34;)
        return {&#39;FINISHED&#39;}</code></pre>
</details>
<div class="desc"></div>
<h3>Ancestors</h3>
<ul class="hlist">
<li>bpy_types.Operator</li>
<li>builtins.bpy_struct</li>
</ul>
<h3>Class variables</h3>
<dl>
<dt id="sverchok.dependencies.DI_OT_install_or_update_dependencies_operator.bl_description"><code class="name">var <span class="ident">bl_description</span></code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="sverchok.dependencies.DI_OT_install_or_update_dependencies_operator.bl_idname"><code class="name">var <span class="ident">bl_idname</span></code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="sverchok.dependencies.DI_OT_install_or_update_dependencies_operator.bl_label"><code class="name">var <span class="ident">bl_label</span></code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="sverchok.dependencies.DI_OT_install_or_update_dependencies_operator.bl_rna"><code class="name">var <span class="ident">bl_rna</span></code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="sverchok.dependencies.DI_OT_install_or_update_dependencies_operator.serialized_items"><code class="name">var <span class="ident">serialized_items</span> : <_PropertyDeferred, <built-in function StringProperty>, {'attr': 'serialized_items'}></code></dt>
<dd>
<div class="desc"></div>
</dd>
</dl>
<h3>Methods</h3>
<dl>
<dt id="sverchok.dependencies.DI_OT_install_or_update_dependencies_operator.execute"><code class="name flex">
<span>def <span class="ident">execute</span></span>(<span>self, context)</span>
</code></dt>
<dd>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def execute(self, context):
    items = self.serialized_items.split(&#39;;&#39;)
    for item in items:
        try:
            dependency = sv_dependencies[item]
            if dependency.module is None and dependency.pip_installable and pip is not None:
                print(f&#34;===&gt;&gt; Install Dependency: {item}&#34;)
                res = bpy.ops.node.sv_ex_pip_install(package = dependency.package)
                #res = bpy.ops.node.sv_ex_pip_install(&#39;INVOKE_DEFAULT&#39;, package = dependency.package)
            elif dependency.pip_installable and pip is not None:
                print(f&#34;===&gt;&gt; Install Dependency: {item}&#34;)
                res = bpy.ops.node.sv_ex_pip_install(package = dependency.package)
                #res = bpy.ops.node.sv_ex_pip_install(&#39;INVOKE_DEFAULT&#39;, package = dependency.package)
            else:
                print(f&#34;===&gt;&gt; Skip Install Dependency: {item}&#34;)
                continue
            print(f&#34;{item} installed with result: {res}&#34;)
        except Exception as _ex:
            pass
    self.report({&#39;INFO&#39;}, &#34;Please restart Blender to see effect of upgrade dependencies.&#34;)
    return {&#39;FINISHED&#39;}</code></pre>
</details>
<div class="desc"></div>
</dd>
</dl>
</dd>
<dt id="sverchok.dependencies.SvDependency"><code class="flex name class">
<span>class <span class="ident">SvDependency</span></span>
<span>(</span><span>package, url, module=None)</span>
</code></dt>
<dd>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">class SvDependency():
    &#34;&#34;&#34;
    Definition of external dependency package.
    &#34;&#34;&#34;
    def __init__(self, package, url, module=None):
        &#34;&#34;&#34;
        Args:
            package: name of package
            url: home URL of the package
            module: main package module object
        &#34;&#34;&#34;
        self.package = package
        self.module = module
        self.url = url
        self.pip_installable = False

    @property
    def message(self):
        return f&#34;{self.package} package is {&#39;&#39; if self.module else &#39;not &#39;}available&#34;</code></pre>
</details>
<div class="desc"><p>Definition of external dependency package.</p>
<h2 id="args">Args</h2>
<dl>
<dt><strong><code>package</code></strong></dt>
<dd>name of package</dd>
<dt><strong><code>url</code></strong></dt>
<dd>home URL of the package</dd>
<dt><strong><code>module</code></strong></dt>
<dd>main package module object</dd>
</dl></div>
<h3>Instance variables</h3>
<dl>
<dt id="sverchok.dependencies.SvDependency.message"><code class="name">prop <span class="ident">message</span></code></dt>
<dd>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@property
def message(self):
    return f&#34;{self.package} package is {&#39;&#39; if self.module else &#39;not &#39;}available&#34;</code></pre>
</details>
<div class="desc"></div>
</dd>
</dl>
</dd>
</dl>
</section>
</article>
<nav id="sidebar">
<div class="toc">
<ul></ul>
</div>
<ul id="index">
<li><h3><a href="#header-functions">Functions</a></h3>
<ul class="">
<li><code><a title="sverchok.dependencies.draw_message" href="#sverchok.dependencies.draw_message">draw_message</a></code></li>
<li><code><a title="sverchok.dependencies.get_icon" href="#sverchok.dependencies.get_icon">get_icon</a></code></li>
<li><code><a title="sverchok.dependencies.register" href="#sverchok.dependencies.register">register</a></code></li>
<li><code><a title="sverchok.dependencies.unregister" href="#sverchok.dependencies.unregister">unregister</a></code></li>
</ul>
</li>
<li><h3><a href="#header-classes">Classes</a></h3>
<ul>
<li>
<h4><code><a title="sverchok.dependencies.DI_OT_install_or_update_dependencies_operator" href="#sverchok.dependencies.DI_OT_install_or_update_dependencies_operator">DI_OT_install_or_update_dependencies_operator</a></code></h4>
<ul class="two-column">
<li><code><a title="sverchok.dependencies.DI_OT_install_or_update_dependencies_operator.bl_description" href="#sverchok.dependencies.DI_OT_install_or_update_dependencies_operator.bl_description">bl_description</a></code></li>
<li><code><a title="sverchok.dependencies.DI_OT_install_or_update_dependencies_operator.bl_idname" href="#sverchok.dependencies.DI_OT_install_or_update_dependencies_operator.bl_idname">bl_idname</a></code></li>
<li><code><a title="sverchok.dependencies.DI_OT_install_or_update_dependencies_operator.bl_label" href="#sverchok.dependencies.DI_OT_install_or_update_dependencies_operator.bl_label">bl_label</a></code></li>
<li><code><a title="sverchok.dependencies.DI_OT_install_or_update_dependencies_operator.bl_rna" href="#sverchok.dependencies.DI_OT_install_or_update_dependencies_operator.bl_rna">bl_rna</a></code></li>
<li><code><a title="sverchok.dependencies.DI_OT_install_or_update_dependencies_operator.execute" href="#sverchok.dependencies.DI_OT_install_or_update_dependencies_operator.execute">execute</a></code></li>
<li><code><a title="sverchok.dependencies.DI_OT_install_or_update_dependencies_operator.serialized_items" href="#sverchok.dependencies.DI_OT_install_or_update_dependencies_operator.serialized_items">serialized_items</a></code></li>
</ul>
</li>
<li>
<h4><code><a title="sverchok.dependencies.SvDependency" href="#sverchok.dependencies.SvDependency">SvDependency</a></code></h4>
<ul class="">
<li><code><a title="sverchok.dependencies.SvDependency.message" href="#sverchok.dependencies.SvDependency.message">message</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</nav>
</main>
<footer id="footer">
<p>Generated by <a href="https://pdoc3.github.io/pdoc" title="pdoc: Python API documentation generator"><cite>pdoc</cite> 0.11.6</a>.</p>
</footer>
</body>
</html>
