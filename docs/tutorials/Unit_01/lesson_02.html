<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Introduction to modular components &mdash; Sverchok 1, 2, 0 documentation</title>
      <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=fa44fd50" />
      <link rel="stylesheet" type="text/css" href="../../_static/css/theme.css?v=19f00094" />

  
    <link rel="shortcut icon" href="../../_static/sverchock_icon_b.ico"/>
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="../../_static/documentation_options.js?v=773c2105"></script>
        <script src="../../_static/doctools.js?v=9a2dae69"></script>
        <script src="../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Introduction to modular components" href="lesson_03.html" />
    <link rel="prev" title="Nesting" href="../nesting.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../../main.html" class="icon icon-home">
            Sverchok
              <img src="../../_static/title_big_b.svg" class="logo" alt="Logo"/>
          </a>
              <div class="version">
                1, 2, 0
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../introduction/introduction.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../installation/installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../user_interface/user_interface.html">User interface</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../tree_evaluation_system.html">Node tree evaluation system</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../data_structure/data_structure_index.html">Data structure</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../nodes.html">Nodes</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../tutorials.html">Tutorials</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../tutorials.html#unit-00-introduction-to-nodeview-and-3dview">Unit 00 - Introduction to NodeView and 3DView</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../tutorials.html#unit-01-introduction-to-modular-components">Unit 01 - Introduction to modular components</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="lesson_01.html">Lesson 01 - A Plane</a></li>
<li class="toctree-l3"><a class="reference internal" href="../nesting.html">Notes for Lesson 02 (Nesting)</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">Lesson 02 - A Circle</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#lesson-02-a-circle">Lesson 02 - A Circle</a></li>
<li class="toctree-l4"><a class="reference internal" href="#polygon-was-easy-what-about-edges">Polygon was easy, what about Edges?</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="lesson_03.html">Lesson 03 - A Grid</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../celling.html">Celling design</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../contributing/contributing_to_sverchok.html">Contributing to sverchok</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../main.html">Sverchok</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../main.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../tutorials.html">Tutorials</a></li>
      <li class="breadcrumb-item active">Introduction to modular components</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../_sources/tutorials/Unit_01/lesson_02.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="introduction-to-modular-components">
<h1>Introduction to modular components<a class="headerlink" href="#introduction-to-modular-components" title="Link to this heading">¶</a></h1>
<p><strong>prerequisites</strong></p>
<p>Same as lesson 01.</p>
<section id="lesson-02-a-circle">
<h2>Lesson 02 - A Circle<a class="headerlink" href="#lesson-02-a-circle" title="Link to this heading">¶</a></h2>
<p>This lesson will introduce the following nodes: <code class="docutils literal notranslate"><span class="pre">List</span> <span class="pre">Length,</span> <span class="pre">List</span> <span class="pre">Shift,</span>
<span class="pre">List</span> <span class="pre">Zip,</span> <span class="pre">List</span> <span class="pre">Join</span></code>, and use nodes seen in Lesson 01.</p>
<p>This will continue from the previous lesson where we made a plane from 4 vectors. We can reuse some of these nodes in order to make a Circle. If you saved it as suggested load it up or recreate it from scratch by cross referencing this image.</p>
<p><img alt="former_final_image" src="https://user-images.githubusercontent.com/619340/82145036-31df3380-9848-11ea-84a7-1ed761c00e84.png" /></p>
<p><strong>A Circle</strong></p>
<p>Blender has a Circle primitive, Sverchok also has its own Circle primitive called the <cite>Circle Generator</cite>. We will avoid using the primitives until we’ve covered more of the fundamental nodes and how they interact.</p>
<p><strong>Dynamic Polygons</strong></p>
<p>In the collection of nodes we have in the Node View at the moment, we have manually entered the polygon indices. As mentioned earlier, as soon as you need to link many vertices instead of the current 4, you will want to make this <em>list creation</em> generative/automatic. You will probably also want to make it respond dynamically by adding new segments automatically if the vertex count changes.</p>
<p>Because this is a common task, there’s a dedicated node for it called <code class="docutils literal notranslate"><span class="pre">UV</span> <span class="pre">Connect</span></code>, but just like the <cite>Circle</cite> generator node we will avoid using the <code class="docutils literal notranslate"><span class="pre">UV</span> <span class="pre">Connect</span></code> node until the basics are covered. Learning how to build these things yourself will teach you how to use the fundamental nodes and their place in <strong>Visual Programming</strong>. This is about the journey.</p>
<p><strong>Generating an index list for the polygon</strong></p>
<p>In order to make the list automatically, we should know how many vertices there are at any given moment.</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">Add</span> <span class="pre">-&gt;</span> <span class="pre">List</span> <span class="pre">Main</span> <span class="pre">-&gt;</span> <span class="pre">List</span> <span class="pre">Length</span></code></p></li>
</ul>
<p>The <cite>List Length</cite> node lets you output the length of incoming data. Because data is passed through Sverchok as lists and lists of lists, it also lets you pick what <code class="docutils literal notranslate"><span class="pre">nested-level</span></code> of the data you want to inspect. It’s worth reading the <strong>reference</strong> of this node for a comprehensive tour of its capabilities.</p>
<ol class="arabic simple">
<li><p>hook the <code class="docutils literal notranslate"><span class="pre">Vector</span> <span class="pre">In</span></code> output into the <code class="docutils literal notranslate"><span class="pre">Data</span></code> input of <code class="docutils literal notranslate"><span class="pre">List</span> <span class="pre">Length</span></code> node</p></li>
<li><p>hook a new <code class="docutils literal notranslate"><span class="pre">Stethoscope</span></code> up to the output of the <code class="docutils literal notranslate"><span class="pre">List</span> <span class="pre">Length</span></code> node.</p></li>
<li><p>notice the <em>Level</em> slider is set to <code class="docutils literal notranslate"><span class="pre">1</span></code> by default, you should see Stethoscope shows output.</p></li>
</ol>
<p><img alt="show_stethoscope_with_listlength" src="https://user-images.githubusercontent.com/619340/82145112-cd70a400-9848-11ea-9905-3824f7e92e8c.png" /></p>
<p>Notice that, besides all the square brackets, you see the length of the incoming data is <cite>4</cite>, as expected. We want to generate a sequence (list) that goes something like <code class="docutils literal notranslate"><span class="pre">[0,1,2,...n]</span></code> where n is the index of that last vertex. In Python you might write something like this this:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">n</span> <span class="o">=</span> <span class="mi">4</span>
<span class="nb">range</span><span class="p">(</span><span class="n">start</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">end</span><span class="o">=</span><span class="n">n</span><span class="p">,</span> <span class="n">step</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="o">&gt;&gt;</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]</span>
</pre></div>
</div>
<p>To generate the index list for the polygon we need a node that outputs a sequential list of integers, Sverchok has exactly such a node and it accepts values for <cite>start</cite>, <cite>step</cite> and <cite>count</cite> as parameters. This is what the <code class="docutils literal notranslate"><span class="pre">Number</span> <span class="pre">Range</span></code> node does (in <em>Step</em> mode).</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">Add</span> <span class="pre">-&gt;</span> <span class="pre">Numbers</span> <span class="pre">-&gt;</span> <span class="pre">Number</span> <span class="pre">Range</span></code></p></li>
</ul>
<ol class="arabic simple">
<li><p>Set the mode of the newly added <code class="docutils literal notranslate"><span class="pre">Number</span> <span class="pre">Range</span></code> node to <em>Int</em> and submode to <em>Step</em>.</p></li>
<li><p>Make sure <code class="docutils literal notranslate"><span class="pre">start</span> <span class="pre">=</span> <span class="pre">0</span></code> and <code class="docutils literal notranslate"><span class="pre">step</span> <span class="pre">=</span> <span class="pre">1</span></code></p></li>
<li><p>Hook the output of <code class="docutils literal notranslate"><span class="pre">List</span> <span class="pre">Length</span></code> into the <code class="docutils literal notranslate"><span class="pre">count</span></code> socket of <code class="docutils literal notranslate"><span class="pre">Number</span> <span class="pre">Range</span></code></p></li>
<li><p>Remove the <code class="docutils literal notranslate"><span class="pre">Simple</span> <span class="pre">Topology</span></code> node.</p></li>
</ol>
<p>before we go to point <code class="docutils literal notranslate"><span class="pre">5</span></code>, you need to understand a thing called <em>Nesting</em>. we’ll have to explain a few things. Read the <a class="reference internal" href="../nesting.html"><span class="doc">Nesting</span></a>, page if you haven’t already.</p>
<blockquote>
<div><p><em>Note</em> View the output of the <code class="docutils literal notranslate"><span class="pre">Number</span> <span class="pre">Range</span></code> socket using stethoscope. you’ll see:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">]]</span>
</pre></div>
</div>
</div></blockquote>
<p><img alt="not_nested_enough" src="https://user-images.githubusercontent.com/619340/82303630-7dfeb500-99bb-11ea-9ea3-bf695d2537a6.png" /></p>
<p>If you have gone through the notes on nesting, then you’ll understand why we need another set of <em>Square Brackets</em> to produce a structure that the <code class="docutils literal notranslate"><span class="pre">Viewer</span> <span class="pre">Draw</span></code> node will understand <code class="docutils literal notranslate"><span class="pre">as</span> <span class="pre">one</span> <span class="pre">object</span> <span class="pre">with</span> <span class="pre">one</span> <span class="pre">face</span></code>, it needs to be <code class="docutils literal notranslate"><span class="pre">[[[0,1,2,3]]]</span></code>.</p>
<p>5) Connect the output of <code class="docutils literal notranslate"><span class="pre">Number</span> <span class="pre">Range</span></code> into a <code class="docutils literal notranslate"><span class="pre">List</span> <span class="pre">Join</span></code> node (with
pressed to add <code class="docutils literal notranslate"><span class="pre">Wrap</span></code> toggle) to add Brackets (an extra level of nesting).</p>
<ol class="arabic simple" start="6">
<li><p>Hook the output of <code class="docutils literal notranslate"><span class="pre">Join</span> <span class="pre">List</span></code> to the <code class="docutils literal notranslate"><span class="pre">Faces</span></code> socket of <code class="docutils literal notranslate"><span class="pre">Viewer</span> <span class="pre">Draw</span></code>.</p></li>
</ol>
<blockquote>
<div><p><em>Note</em>: connect a Stethoscope also to the output of <code class="docutils literal notranslate"><span class="pre">Join</span> <span class="pre">List</span></code> in order to
see the generated list for yourself</p>
</div></blockquote>
<p><img alt="using_range_node_one" src="https://user-images.githubusercontent.com/28003269/177475219-ac549100-7de8-4310-ac2e-167eac3d8dd9.png" /></p>
<p><strong>Generating the set of circular verts</strong></p>
<p>The above takes care of automatically generating the face indices for any number of incoming vertices. Now we want to automate the creation of Vertices. The 4 verts we’ve had from the very beginning are already points on a circular path, we can make a change to <code class="docutils literal notranslate"><span class="pre">Number</span> <span class="pre">Range</span></code> node to finally see this Circle emerge.</p>
<ul class="simple">
<li><p>Set the <code class="docutils literal notranslate"><span class="pre">mode</span></code> of the <code class="docutils literal notranslate"><span class="pre">Number</span> <span class="pre">Range</span></code> node to <code class="docutils literal notranslate"><span class="pre">Range</span></code></p></li>
<li><p>Set the <code class="docutils literal notranslate"><span class="pre">stop</span></code> parameter to <code class="docutils literal notranslate"><span class="pre">2.0</span></code></p></li>
<li><p>Set the <code class="docutils literal notranslate"><span class="pre">step</span></code> to <code class="docutils literal notranslate"><span class="pre">0.2</span></code> for example.</p></li>
</ul>
<p><code class="docutils literal notranslate"><span class="pre">2.0</span> <span class="pre">/</span> <span class="pre">0.2</span> <span class="pre">=</span> <span class="pre">10</span></code>, this means the Float Series node will now output ten values <code class="docutils literal notranslate"><span class="pre">[0.0,</span> <span class="pre">0.2,</span> <span class="pre">0.4,</span> <span class="pre">0.6,</span> <span class="pre">0.8,</span> <span class="pre">1.0,</span> <span class="pre">1.2,</span> <span class="pre">1.4,</span> <span class="pre">1.6,</span> <span class="pre">1.8]</span></code>. Notice that it does not output 2.0 at the end, because this mode excludes the terminating value. (called non inclusive)</p>
<p><img alt="automatic_circle_from_plane" src="https://user-images.githubusercontent.com/28003269/177475439-991c1248-0aa9-470e-bfa3-749f44335b4e.png" /></p>
<p>You can see the beginnings of a circle.</p>
<p><strong>Forcing an even spread of Vertices</strong></p>
<p>Above we manually set the step to <code class="docutils literal notranslate"><span class="pre">0.2</span></code>, if you are as lazy as we are, then you’ll want to automate that. We will add nodes to do the calculation for us. Think about how you might do that. The formula is:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mf">2.0</span> <span class="o">/</span> <span class="n">n</span> <span class="o">=</span> <span class="n">step_distance</span>
</pre></div>
</div>
<p>where <code class="docutils literal notranslate"><span class="pre">n</span></code> is how many vertices you want, and the 2 here is <cite>2 PI</cite>. This calls for a <code class="docutils literal notranslate"><span class="pre">Scalar</span> <span class="pre">Math</span></code> node and a <code class="docutils literal notranslate"><span class="pre">Number</span></code> node.</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">Add</span> <span class="pre">-&gt;</span> <span class="pre">Numbers</span> <span class="pre">-&gt;</span> <span class="pre">Scalar</span> <span class="pre">Math</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Add</span> <span class="pre">-&gt;</span> <span class="pre">Numbers</span> <span class="pre">-&gt;</span> <span class="pre">A</span> <span class="pre">Number</span></code></p></li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Get in the habit of adding the core nodes via the Node View’s <code class="docutils literal notranslate"><span class="pre">Right</span> <span class="pre">Click</span></code> menu, it is a quick route to most of these nodes.</p>
<p><img alt="right_click_menu" src="https://user-images.githubusercontent.com/619340/82489407-e1830280-9ae1-11ea-97ef-e43d1d9914f8.png" /></p>
</div>
<ol class="arabic simple">
<li><p>Set the <code class="docutils literal notranslate"><span class="pre">Scalar</span> <span class="pre">Math</span></code> node mode to <em>Reciprocal</em> which is <code class="docutils literal notranslate"><span class="pre">1</span> <span class="pre">/</span> <span class="pre">x</span></code></p></li>
<li><p>Set the <code class="docutils literal notranslate"><span class="pre">Number</span></code> node to <em>Int</em> mode and slide the number to <code class="docutils literal notranslate"><span class="pre">10</span></code>, and connect the output into the <em>reciprocal</em> <code class="docutils literal notranslate"><span class="pre">Scalar</span> <span class="pre">Math</span></code> node.</p></li>
<li><p>In the image below I’ve connected a Stethoscope to the output of the <code class="docutils literal notranslate"><span class="pre">Number</span> <span class="pre">Range</span></code> node to see the value of this computation</p></li>
<li><p>Finally, <code class="docutils literal notranslate"><span class="pre">2</span> <span class="pre">PI</span></code> is the same as <code class="docutils literal notranslate"><span class="pre">1</span> <span class="pre">Tau</span></code>, set the <code class="docutils literal notranslate"><span class="pre">Pi</span> <span class="pre">*</span> <span class="pre">x</span></code> <em>Scalar Math</em> node to <code class="docutils literal notranslate"><span class="pre">Tau</span> <span class="pre">*</span> <span class="pre">x</span></code> and hook up the output of the Reciprocal <em>Scalar Math</em> node into the <em>step</em> socket of Number Range</p></li>
</ol>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>You should see something like this, if not you can by now probably figure out what to do.
<img alt="use_reciprocal" src="https://user-images.githubusercontent.com/28003269/177476096-d4548e41-c2e2-4079-9ce8-40d87bbe8286.png" /></p>
</div>
<div class="admonition caution">
<p class="admonition-title">Caution</p>
<p>This is starting to get crowded, let’s minimize nodes.</p>
</div>
<p>Before going any further it’s time to draw attention to the fact that you can make nodes smaller. This minimizing feature is called <code class="docutils literal notranslate"><span class="pre">hide</span></code>, we can argue about how good or badly that option is named. With Any node selected press <code class="docutils literal notranslate"><span class="pre">H</span></code>, to <em>minimize/hide</em>.</p>
<p><img alt="minimized" src="https://user-images.githubusercontent.com/619340/82501213-2fedcc80-9af5-11ea-94ca-39ef089b7756.png" /></p>
<p>In Sverchok we added special functionality to certain nodes to draw information about themselves into their header area. This allows you to see what the node is supposed to be doing even when the UI is minimized. Currently the <code class="docutils literal notranslate"><span class="pre">A</span> <span class="pre">number</span></code>, <code class="docutils literal notranslate"><span class="pre">Scalar</span> <span class="pre">and</span> <span class="pre">Vector</span> <span class="pre">Math</span></code>, and <code class="docutils literal notranslate"><span class="pre">List</span> <span class="pre">Length</span></code> nodes have this behaviour because they are common and will compete for screen real-estate. Other nodes have been added to that list over time.</p>
<p>In future lessons you will often see minimized/hidden nodes</p>
</section>
<section id="polygon-was-easy-what-about-edges">
<h2>Polygon was easy, what about Edges?<a class="headerlink" href="#polygon-was-easy-what-about-edges" title="Link to this heading">¶</a></h2>
<p>Remember, there are nodes that can take an incoming set of vertices and generate the required Edges <code class="docutils literal notranslate"><span class="pre">index</span> <span class="pre">lists</span></code>. Because we’re exploring the modular features of Sverchok we’ll build our own <code class="docutils literal notranslate"><span class="pre">Edges</span></code> generator.</p>
<p>The edge index list of the square looked like:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">],[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">],[</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">],[</span><span class="mi">3</span><span class="p">,</span><span class="mi">0</span><span class="p">]]</span><span class="o">.</span>
</pre></div>
</div>
<p>For the Circle of a variable number of vertices that list will look like:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">],[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">],</span><span class="o">...</span><span class="p">,[</span><span class="n">n</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="n">n</span><span class="p">],[</span><span class="n">n</span><span class="p">,</span><span class="mi">0</span><span class="p">]]</span>
</pre></div>
</div>
<p>Notice I’m just showing the start of the list and the end, to indicate that there is a formula for it based purely on how many verts you want to chain together. As usual <code class="docutils literal notranslate"><span class="pre">n</span></code> represents the number of vertices in question.</p>
<p>In python that formula can be expressed using a <code class="docutils literal notranslate"><span class="pre">for-loop</span></code> or a <code class="docutils literal notranslate"><span class="pre">list</span> <span class="pre">comprehension</span></code>.</p>
<p>the <cite>for-loop</cite>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">n</span> <span class="o">=</span> <span class="mi">5</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">n</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="p">(</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span> <span class="o">%</span> <span class="n">n</span><span class="p">)</span>

<span class="o">&gt;&gt;&gt;</span> <span class="mi">0</span> <span class="mi">1</span>
<span class="o">&gt;&gt;&gt;</span> <span class="mi">1</span> <span class="mi">2</span>
<span class="o">&gt;&gt;&gt;</span> <span class="mi">2</span> <span class="mi">3</span>
<span class="o">&gt;&gt;&gt;</span> <span class="mi">3</span> <span class="mi">4</span>
<span class="o">&gt;&gt;&gt;</span> <span class="mi">4</span> <span class="mi">0</span>
</pre></div>
</div>
<p>the <cite>list comprehension</cite>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">n</span> <span class="o">=</span> <span class="mi">5</span>
<span class="n">edges</span> <span class="o">=</span> <span class="p">[[</span><span class="n">i</span><span class="p">,</span> <span class="p">(</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span> <span class="o">%</span> <span class="n">n</span><span class="p">]</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">n</span><span class="p">)]</span>
<span class="nb">print</span><span class="p">(</span><span class="n">edges</span><span class="p">)</span>

<span class="o">&gt;&gt;&gt;</span> <span class="p">[[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">],</span> <span class="p">[</span><span class="mi">4</span><span class="p">,</span> <span class="mi">0</span><span class="p">]]</span>
</pre></div>
</div>
<p>In Sverchok the end result will be the same, but we’ll arrive at the result in a different way.</p>
<p>The second index of each edge is one higher than the first index, except for the last edge. The last edge closes the ring of edges and meets back up with the first vertex. In essenence this is a wrap-around. Or, you can think of it as two lists, one of which is shifted by one with respect the other list:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">indices</span>                <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">]</span>
<span class="n">indices_shifted_by_one</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span>

<span class="k">for</span> <span class="n">a</span><span class="p">,</span> <span class="n">b</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">indices</span><span class="p">,</span> <span class="n">indices_shifted_by_one</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">([</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">])</span>

<span class="o">&gt;&gt;&gt;</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span>
<span class="o">&gt;&gt;&gt;</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">]</span>
<span class="o">&gt;&gt;&gt;</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]</span>
<span class="o">&gt;&gt;&gt;</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">]</span>
<span class="o">&gt;&gt;&gt;</span> <span class="p">[</span><span class="mi">4</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span>
</pre></div>
</div>
<p>Sverchok has a node for this called <cite>List Shift</cite>. We’ll zip the two lists together using <cite>List Zip</cite> node.</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">add</span> <span class="pre">-&gt;</span> <span class="pre">List</span> <span class="pre">Struct</span> <span class="pre">-&gt;</span> <span class="pre">List</span> <span class="pre">Shift</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">add</span> <span class="pre">-&gt;</span> <span class="pre">List</span> <span class="pre">Main</span> <span class="pre">-&gt;</span> <span class="pre">List</span> <span class="pre">Zip</span></code></p></li>
</ul>
<div class="admonition hint">
<p class="admonition-title">Hint</p>
<p>Seriously; Instead of trawling through menus and submenus, use the <code class="docutils literal notranslate"><span class="pre">alt+space</span></code> search. type in Shift and Zip and navigate down with the cursor keys, then hit Enter to add the node to the tree.</p>
</div>
<ol class="arabic simple">
<li><p>Hook the output of <code class="docutils literal notranslate"><span class="pre">Number</span> <span class="pre">Range</span></code> into the first <em>Data</em> socket of the <code class="docutils literal notranslate"><span class="pre">List</span> <span class="pre">Zip</span></code> node.</p></li>
<li><p>Hook the output of <code class="docutils literal notranslate"><span class="pre">Number</span> <span class="pre">Range</span></code> also into the <em>Data</em> socket of the <code class="docutils literal notranslate"><span class="pre">List</span> <span class="pre">Shift</span></code> node.</p></li>
<li><p>To make the wrap-around, simply set the <em>Shift slider</em> to <code class="docutils literal notranslate"><span class="pre">-1</span></code>.</p></li>
<li><p>connect the output of <code class="docutils literal notranslate"><span class="pre">List</span> <span class="pre">Shift</span></code> to the second <em>Data</em> input of <code class="docutils literal notranslate"><span class="pre">List</span> <span class="pre">Zip</span></code> (this node creates new sockets on the fly).</p></li>
<li><p>Make sure the level parameter on <code class="docutils literal notranslate"><span class="pre">List</span> <span class="pre">Zip</span></code> is set to <code class="docutils literal notranslate"><span class="pre">1</span></code>.</p></li>
<li><p>Hook up a Stethoscope to the output of <code class="docutils literal notranslate"><span class="pre">List</span> <span class="pre">Zip</span></code> to verify</p></li>
</ol>
<p>Notice in this image I have minimized/hidden (shortcut H) a few nodes to keep the node view from getting claustrophobic.</p>
<p><img alt="current_pre_final" src="https://user-images.githubusercontent.com/619340/82545480-09f91400-9b57-11ea-8fcb-88392597d7cb.png" /></p>
<ol class="arabic simple" start="7">
<li><p>hook up the output of <code class="docutils literal notranslate"><span class="pre">List</span> <span class="pre">Zip</span></code> straight into the <em>Edges</em> socket of``Viewer Draw``.</p></li>
</ol>
<p><img alt="current_final" src="https://user-images.githubusercontent.com/619340/82545240-b090e500-9b56-11ea-9655-3647f59ce854.png" /></p>
<p><strong>End of lesson 02</strong></p>
<p>Save this .blend you’ve been working on as Sverchok_Unit_01_Lesson_02 for future tutorials or as reference if you want to look something up later.</p>
<p>You now know how to create basic shapes programmatically using Sverchok nodes. In Lesson 03 a dynamic grid will be generated, but first relax and reiterate what has been learned so far.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p><code class="docutils literal notranslate"><span class="pre">Viewer</span> <span class="pre">Draw</span></code> automatically generates Edges when you pass one or more Vertices and Polygons. This means in practice when you already have the Polygons for an object then you don’t need to also pass in the Edges, they are inferred purely from the indices of the incoming Polygons.</p>
</div>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="../nesting.html" class="btn btn-neutral float-left" title="Nesting" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="lesson_03.html" class="btn btn-neutral float-right" title="Introduction to modular components" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2014...2024, sverchok team.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>