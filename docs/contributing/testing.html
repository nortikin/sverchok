<!DOCTYPE html>

<html lang="en" data-content_root="../">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Testing &#8212; Sverchok 1, 2, 0 documentation</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=fa44fd50" />
    <link rel="stylesheet" type="text/css" href="../_static/zerovm.css?v=bbc7d13e" />
    <script src="../_static/documentation_options.js?v=773c2105"></script>
    <script src="../_static/doctools.js?v=9bcbadda"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <link rel="icon" href="../_static/sverchock_icon_b.ico"/>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="prev" title="Sverchok API Documentation" href="api_documentation.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="Related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="api_documentation.html" title="Sverchok API Documentation"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../main.html">Sverchok 1, 2, 0 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="contributing_to_sverchok.html" accesskey="U">Contributing to sverchok</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">Testing</a></li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <section id="testing">
<h1>Testing<a class="headerlink" href="#testing" title="Link to this heading">¶</a></h1>
<section id="preface">
<h2>Preface<a class="headerlink" href="#preface" title="Link to this heading">¶</a></h2>
<p>This document describes (for developers mainly) our approach to testing the code of Sverchok.</p>
<p>The main ideas are:</p>
<ul class="simple">
<li><p>It is better to have good code.</p></li>
<li><p>You do not actually know how good or bad does your code work until you test it.</p></li>
<li><p>It is a good idea to do testing automatically after any change. This will let you know if you your code became better or worse.</p></li>
<li><p><a class="reference external" href="https://en.wikipedia.org/wiki/Test-driven_development">TDD</a> is based on some sane ideas.</p></li>
<li><p>But, it is not applied to Sverchok as a dogma, because of:</p>
<ul>
<li><p>Automated testing has it’s price, mainly human resources, which we do not have too much.</p></li>
<li><p>Some part of Sverchok code is about interacting with user (GUI). Such code can theoretically be tested automatically, but we don’t think it worth it price for Sverchok.</p></li>
</ul>
</li>
<li><p>So: write automated tests where they are not too complex, or too heavy, or too fragile. For GUI things, or for complex setups, or for things that take too much code to setup programmatically - just do manual testing.</p></li>
</ul>
</section>
<section id="implementation">
<h2>Implementation<a class="headerlink" href="#implementation" title="Link to this heading">¶</a></h2>
<p>Automated testing of Sverchok is implemented based on standard Python’s <a class="reference external" href="https://docs.python.org/3/library/unittest.html">unittest</a> module.
In <code class="docutils literal notranslate"><span class="pre">sverchok.utils.testing</span></code> module there is a number of utility methods and some base classes for test cases. Please refer to docstrings in that module for more detailed information.
Test cases themselves are under <code class="docutils literal notranslate"><span class="pre">tests/</span></code> directory. The files have to be named <code class="docutils literal notranslate"><span class="pre">*_tests.py</span></code>. Feel free to use existing test cases as examples to create your own.
Test data files are located under <code class="docutils literal notranslate"><span class="pre">tests/references/</span></code> directory. There are <code class="docutils literal notranslate"><span class="pre">.blend.gz</span></code> and <code class="docutils literal notranslate"><span class="pre">.json</span></code> files used as patterns/references for comparison.</p>
<p>Test cases can be run in two ways:</p>
<ul class="simple">
<li><p>From running Blender. For this you have to enable “Developer mode” under Sverchok addon preferences. Then in Sverchok’s N panel you will see Testing panel and a button “Run all tests” in it. You can observe test results in Sverchok’s log.</p></li>
<li><p>From command line. There is script named <code class="docutils literal notranslate"><span class="pre">run_tests.sh</span></code> in root directory (this is for bash,  I imagine anyone familiar with Windows’s <code class="docutils literal notranslate"><span class="pre">cmd.exe</span></code> / Powershell scripting can easily write similar script for Windows). If your blender executable is not available as simple <code class="docutils literal notranslate"><span class="pre">blender</span></code> command, you have to pass it in the command line, like <code class="docutils literal notranslate"><span class="pre">BLENDER=~/soft/blender-2.79-linux-glibc219-x86_64/blender</span> <span class="pre">./run_tests.sh</span></code>.</p></li>
</ul>
<p>Please do run the tests at least before making a pull request.</p>
</section>
<section id="continuous-integration">
<h2>Continuous Integration<a class="headerlink" href="#continuous-integration" title="Link to this heading">¶</a></h2>
<p>GitHub actions are used for executing tests. You can see current status of Sverchok tests
<a class="reference external" href="https://github.com/nortikin/sverchok/actions">here</a>.
GitHub action is configured to trigger automatically on the following events:</p>
<ul class="simple">
<li><p>Push to the <code class="docutils literal notranslate"><span class="pre">master</span></code> branch.</p></li>
<li><p>Creation of the pull request against the <code class="docutils literal notranslate"><span class="pre">master</span></code> branch, or a push towards the branch of pull request.</p></li>
</ul>
<p>The status of build triggered by pull request is displayed directly in the GitHub interface. If your pull request breaks existing tests, it is not going to be merged in such state. You need to either a) fix your code, or b) update the code of tests themselves, in case the problem is in tests, not in code being tested.</p>
<p>Moreover, it is a good idea to add some automated tests with each pull request. For example, if you added a new feature, add a test for it (in case it is not too hard to write such a test; otherwise just do manual testing).</p>
</section>
<section id="testing-documentation">
<h2>Testing Documentation<a class="headerlink" href="#testing-documentation" title="Link to this heading">¶</a></h2>
<p>For building Sverchok docs <a class="reference external" href="https://www.sphinx-doc.org/en/master/index.html">Sphinx</a> documentation generator is used.
If in a pul request there are changed files located in <code class="docutils literal notranslate"><span class="pre">sverchok/docs</span></code> folder it will trigger testing of building
the documentation. Before pushing changes you can build docs on your computer.
<code class="docutils literal notranslate"><span class="pre">sphinx-build</span> <span class="pre">-b</span> <span class="pre">html</span> <span class="pre">&quot;path</span> <span class="pre">to</span> <span class="pre">sverchok/docs&quot;</span> <span class="pre">&quot;path</span> <span class="pre">to</span> <span class="pre">where</span> <span class="pre">to</span> <span class="pre">build</span> <span class="pre">docs&quot;</span></code> command can be used in console.
But before building <a class="reference external" href="https://sphinx-rtd-theme.readthedocs.io/en/stable/">Read the Docs</a> theme also should be
installed.</p>
<p>In case if the tests were failed on Github you can check the details in the <em>Files changed</em> tab of the pul request.</p>
<img alt="https://user-images.githubusercontent.com/28003269/125597392-c3598def-f5d2-4bb5-94ae-ff802820c4a8.png" src="https://user-images.githubusercontent.com/28003269/125597392-c3598def-f5d2-4bb5-94ae-ff802820c4a8.png" />
<p>If there is nothing in the tab then you have to go to the test details and read the log but most likely
you will not face with such fail unless there was changes in the configuration file.</p>
</section>
</section>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="Main">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../main.html">
              <img class="logo" src="../_static/title_big_b.svg" alt="Logo of Sverchok"/>
            </a></p>
  <div>
    <h3><a href="../main.html">Table of Contents</a></h3>
    <ul>
<li><a class="reference internal" href="#">Testing</a><ul>
<li><a class="reference internal" href="#preface">Preface</a></li>
<li><a class="reference internal" href="#implementation">Implementation</a></li>
<li><a class="reference internal" href="#continuous-integration">Continuous Integration</a></li>
<li><a class="reference internal" href="#testing-documentation">Testing Documentation</a></li>
</ul>
</li>
</ul>

  </div>
  <div>
    <h4>Previous topic</h4>
    <p class="topless"><a href="api_documentation.html"
                          title="previous chapter">Sverchok API Documentation</a></p>
  </div>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../_sources/contributing/testing.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<search id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</search>
<script>document.getElementById('searchbox').style.display = "block"</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="Related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="api_documentation.html" title="Sverchok API Documentation"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../main.html">Sverchok 1, 2, 0 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="contributing_to_sverchok.html" >Contributing to sverchok</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">Testing</a></li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
    &#169; Copyright 2014...2025, sverchok team.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 8.2.3.
    </div>
  </body>
</html>