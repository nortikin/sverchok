<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Testing &mdash; Sverchok 1, 2, 0 documentation</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=fa44fd50" />
      <link rel="stylesheet" type="text/css" href="../_static/css/theme.css?v=19f00094" />

  
    <link rel="shortcut icon" href="../_static/sverchock_icon_b.ico"/>
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="../_static/documentation_options.js?v=773c2105"></script>
        <script src="../_static/doctools.js?v=9a2dae69"></script>
        <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="prev" title="Sverchok API Documentation" href="api_documentation.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../main.html" class="icon icon-home">
            Sverchok
              <img src="../_static/title_big_b.svg" class="logo" alt="Logo"/>
          </a>
              <div class="version">
                1, 2, 0
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../introduction/introduction.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../installation/installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../user_interface/user_interface.html">User interface</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tree_evaluation_system.html">Node tree evaluation system</a></li>
<li class="toctree-l1"><a class="reference internal" href="../data_structure/data_structure_index.html">Data structure</a></li>
<li class="toctree-l1"><a class="reference internal" href="../nodes.html">Nodes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/tutorials.html">Tutorials</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/celling.html">Celling design</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="contributing_to_sverchok.html">Contributing to sverchok</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="contribute_small_things.html">Contributing small things</a></li>
<li class="toctree-l2"><a class="reference internal" href="contribute_general.html">General guidelines</a></li>
<li class="toctree-l2"><a class="reference internal" href="add_new_node.html">Adding new Node</a></li>
<li class="toctree-l2"><a class="reference internal" href="node_api.html">Node API</a></li>
<li class="toctree-l2"><a class="reference internal" href="api_documentation.html">Sverchok API Documentation</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Testing</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#preface">Preface</a></li>
<li class="toctree-l3"><a class="reference internal" href="#implementation">Implementation</a></li>
<li class="toctree-l3"><a class="reference internal" href="#continuous-integration">Continuous Integration</a></li>
<li class="toctree-l3"><a class="reference internal" href="#testing-documentation">Testing Documentation</a></li>
</ul>
</li>
</ul>
</li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../main.html">Sverchok</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../main.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="contributing_to_sverchok.html">Contributing to sverchok</a></li>
      <li class="breadcrumb-item active">Testing</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/contributing/testing.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="testing">
<h1>Testing<a class="headerlink" href="#testing" title="Link to this heading">¶</a></h1>
<section id="preface">
<h2>Preface<a class="headerlink" href="#preface" title="Link to this heading">¶</a></h2>
<p>This document describes (for developers mainly) our approach to testing the code of Sverchok.</p>
<p>The main ideas are:</p>
<ul class="simple">
<li><p>It is better to have good code.</p></li>
<li><p>You do not actually know how good or bad does your code work until you test it.</p></li>
<li><p>It is a good idea to do testing automatically after any change. This will let you know if you your code became better or worse.</p></li>
<li><p><a class="reference external" href="https://en.wikipedia.org/wiki/Test-driven_development">TDD</a> is based on some sane ideas.</p></li>
<li><p>But, it is not applied to Sverchok as a dogma, because of:</p>
<ul>
<li><p>Automated testing has it’s price, mainly human resources, which we do not have too much.</p></li>
<li><p>Some part of Sverchok code is about interacting with user (GUI). Such code can theoretically be tested automatically, but we don’t think it worth it price for Sverchok.</p></li>
</ul>
</li>
<li><p>So: write automated tests where they are not too complex, or too heavy, or too fragile. For GUI things, or for complex setups, or for things that take too much code to setup programmatically - just do manual testing.</p></li>
</ul>
</section>
<section id="implementation">
<h2>Implementation<a class="headerlink" href="#implementation" title="Link to this heading">¶</a></h2>
<p>Automated testing of Sverchok is implemented based on standard Python’s <a class="reference external" href="https://docs.python.org/3/library/unittest.html">unittest</a> module.
In <code class="docutils literal notranslate"><span class="pre">sverchok.utils.testing</span></code> module there is a number of utility methods and some base classes for test cases. Please refer to docstrings in that module for more detailed information.
Test cases themselves are under <code class="docutils literal notranslate"><span class="pre">tests/</span></code> directory. The files have to be named <code class="docutils literal notranslate"><span class="pre">*_tests.py</span></code>. Feel free to use existing test cases as examples to create your own.
Test data files are located under <code class="docutils literal notranslate"><span class="pre">tests/references/</span></code> directory. There are <code class="docutils literal notranslate"><span class="pre">.blend.gz</span></code> and <code class="docutils literal notranslate"><span class="pre">.json</span></code> files used as patterns/references for comparison.</p>
<p>Test cases can be run in two ways:</p>
<ul class="simple">
<li><p>From running Blender. For this you have to enable “Developer mode” under Sverchok addon preferences. Then in Sverchok’s N panel you will see Testing panel and a button “Run all tests” in it. You can observe test results in Sverchok’s log.</p></li>
<li><p>From command line. There is script named <code class="docutils literal notranslate"><span class="pre">run_tests.sh</span></code> in root directory (this is for bash,  I imagine anyone familiar with Windows’s <code class="docutils literal notranslate"><span class="pre">cmd.exe</span></code> / Powershell scripting can easily write similar script for Windows). If your blender executable is not available as simple <code class="docutils literal notranslate"><span class="pre">blender</span></code> command, you have to pass it in the command line, like <code class="docutils literal notranslate"><span class="pre">BLENDER=~/soft/blender-2.79-linux-glibc219-x86_64/blender</span> <span class="pre">./run_tests.sh</span></code>.</p></li>
</ul>
<p>Please do run the tests at least before making a pull request.</p>
</section>
<section id="continuous-integration">
<h2>Continuous Integration<a class="headerlink" href="#continuous-integration" title="Link to this heading">¶</a></h2>
<p>GitHub actions are used for executing tests. You can see current status of Sverchok tests
<a class="reference external" href="https://github.com/nortikin/sverchok/actions">here</a>.
GitHub action is configured to trigger automatically on the following events:</p>
<ul class="simple">
<li><p>Push to the <code class="docutils literal notranslate"><span class="pre">master</span></code> branch.</p></li>
<li><p>Creation of the pull request against the <code class="docutils literal notranslate"><span class="pre">master</span></code> branch, or a push towards the branch of pull request.</p></li>
</ul>
<p>The status of build triggered by pull request is displayed directly in the GitHub interface. If your pull request breaks existing tests, it is not going to be merged in such state. You need to either a) fix your code, or b) update the code of tests themselves, in case the problem is in tests, not in code being tested.</p>
<p>Moreover, it is a good idea to add some automated tests with each pull request. For example, if you added a new feature, add a test for it (in case it is not too hard to write such a test; otherwise just do manual testing).</p>
</section>
<section id="testing-documentation">
<h2>Testing Documentation<a class="headerlink" href="#testing-documentation" title="Link to this heading">¶</a></h2>
<p>For building Sverchok docs <a class="reference external" href="https://www.sphinx-doc.org/en/master/index.html">Sphinx</a> documentation generator is used.
If in a pul request there are changed files located in <code class="docutils literal notranslate"><span class="pre">sverchok/docs</span></code> folder it will trigger testing of building
the documentation. Before pushing changes you can build docs on your computer.
<code class="docutils literal notranslate"><span class="pre">sphinx-build</span> <span class="pre">-b</span> <span class="pre">html</span> <span class="pre">&quot;path</span> <span class="pre">to</span> <span class="pre">sverchok/docs&quot;</span> <span class="pre">&quot;path</span> <span class="pre">to</span> <span class="pre">where</span> <span class="pre">to</span> <span class="pre">build</span> <span class="pre">docs&quot;</span></code> command can be used in console.
But before building <a class="reference external" href="https://sphinx-rtd-theme.readthedocs.io/en/stable/">Read the Docs</a> theme also should be
installed.</p>
<p>In case if the tests were failed on Github you can check the details in the <em>Files changed</em> tab of the pul request.</p>
<img alt="https://user-images.githubusercontent.com/28003269/125597392-c3598def-f5d2-4bb5-94ae-ff802820c4a8.png" src="https://user-images.githubusercontent.com/28003269/125597392-c3598def-f5d2-4bb5-94ae-ff802820c4a8.png" />
<p>If there is nothing in the tab then you have to go to the test details and read the log but most likely
you will not face with such fail unless there was changes in the configuration file.</p>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="api_documentation.html" class="btn btn-neutral float-left" title="Sverchok API Documentation" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2014...2024, sverchok team.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>