<!DOCTYPE html>

<html lang="en" data-content_root="../../">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Curve Zero-Twist Frame &#8212; Sverchok 1, 2, 0 documentation</title>
    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=fa44fd50" />
    <link rel="stylesheet" type="text/css" href="../../_static/zerovm.css?v=bbc7d13e" />
    <script src="../../_static/documentation_options.js?v=773c2105"></script>
    <script src="../../_static/doctools.js?v=9bcbadda"></script>
    <script src="../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <link rel="icon" href="../../_static/sverchock_icon_b.ico"/>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Surface" href="../surface/surface_index.html" />
    <link rel="prev" title="Curve Torsion" href="torsion.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="Related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../surface/surface_index.html" title="Surface"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="torsion.html" title="Curve Torsion"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../main.html">Sverchok 1, 2, 0 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="../../nodes.html" >Nodes</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="curve_index.html" accesskey="U">Curves</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">Curve Zero-Twist Frame</a></li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <section id="curve-zero-twist-frame">
<h1>Curve Zero-Twist Frame<a class="headerlink" href="#curve-zero-twist-frame" title="Link to this heading">¶</a></h1>
<a class="reference external image-reference" href="https://github.com/nortikin/sverchok/assets/14288520/ceb19d9c-8873-4bda-a391-92b1d78b8089"><img alt="https://github.com/nortikin/sverchok/assets/14288520/ceb19d9c-8873-4bda-a391-92b1d78b8089" src="https://github.com/nortikin/sverchok/assets/14288520/ceb19d9c-8873-4bda-a391-92b1d78b8089" />
</a>
<section id="functionality">
<h2>Functionality<a class="headerlink" href="#functionality" title="Link to this heading">¶</a></h2>
<p>This node calculates a reference frame along the curve, which has minimal
rotation around curve’s tangent while moving along the curve.</p>
<p>Two algorithms are implemented for calculating of such a frame.</p>
<p>The first algorithm is to rotate curve’s <a class="reference external" href="https://en.wikipedia.org/wiki/Frenet%E2%80%93Serret_formulas">Frenet</a> frame around curve’s
tangent (in the negative direction). More precisely, an indefinite integral of
curve’s <a class="reference external" href="https://en.wikipedia.org/wiki/Torsion_of_a_curve">torsion</a> is calculated to get the total rotation of Frenet frame around
the tangent while moving from curve’s starting point to any other point.</p>
<p>The indefinite integral is calculated numerically, by subdividing the domain of
the curve in many pieces. The more pieces are used, the more precise the
calculation will be, but the more time it will take. So, this node allows one
to specify the number of curve subdivisions to be used.</p>
<p>Note that it is not possible to correctly calculate Frenet frame of the curve
at the point where it has zero curvature (or at a straight segment of the
curve), and, therefore, the calculation by the first algorithm can also fail in
such cases.</p>
<a class="reference external image-reference" href="https://github.com/nortikin/sverchok/assets/14288520/9ccc28e7-f6fa-4b8b-a3bb-29f38ec80370"><img alt="https://github.com/nortikin/sverchok/assets/14288520/9ccc28e7-f6fa-4b8b-a3bb-29f38ec80370" src="https://github.com/nortikin/sverchok/assets/14288520/9ccc28e7-f6fa-4b8b-a3bb-29f38ec80370" />
</a>
<p>The second algorithm is to take the normal direction at the starting point to
curve and to “track” it along the curve, by projecting previous normal
direction on the plane that is perpendicular to curve’s tangent at the next
“knot” point. The frame at arbitrary point is then calculated by quaternion
linear interpolation. The second algorithm is supposed to work with any curves.</p>
<a class="reference external image-reference" href="https://github.com/nortikin/sverchok/assets/14288520/3ffc57c5-1442-4b52-b81a-cebddcdcd369"><img alt="https://github.com/nortikin/sverchok/assets/14288520/3ffc57c5-1442-4b52-b81a-cebddcdcd369" src="https://github.com/nortikin/sverchok/assets/14288520/3ffc57c5-1442-4b52-b81a-cebddcdcd369" />
</a>
<ul class="simple">
<li><p>Scene-&gt; <a class="reference internal" href="../exchange/bezier_in.html"><span class="doc">Bezier Input</span></a></p></li>
<li><p>Text-&gt; <a class="reference internal" href="../text/stethoscope_v28.html"><span class="doc">Stethoscope</span></a></p></li>
<li><p>Viz-&gt; <a class="reference internal" href="../viz/viewer_draw_mk4.html"><span class="doc">Viewer Draw</span></a></p></li>
</ul>
</section>
<section id="inputs">
<h2>Inputs<a class="headerlink" href="#inputs" title="Link to this heading">¶</a></h2>
<p>This node has the following inputs:</p>
<ul class="simple">
<li><p><strong>Curve</strong>. The curve to calculate frame for. This input is mandatory.</p></li>
<li><p><strong>Resolution</strong>. The number of segments to subdivide the curve in to calculate the torsion integral. The bigger the value is, the more precise calculation will be, but the more time it will take. The default value is 50.</p></li>
<li><p><strong>T</strong>. The value of curve’s T parameter to calculate the frame at. The default value is 0.5.</p></li>
</ul>
</section>
<section id="parameters">
<h2>Parameters<a class="headerlink" href="#parameters" title="Link to this heading">¶</a></h2>
<p>This node has the following parameters:</p>
<ul>
<li><p><strong>Algorithm</strong>. The following algorithms are available:</p>
<ul class="simple">
<li><p><strong>Integrate torsion</strong>. Calculate frame by “substracting” indefinite
integral of curve torsion from curve’s Frenet frame matrices.</p></li>
<li><p><strong>Track normal</strong>. Calculate frames by “tracking” normal direction from
along the curve.</p></li>
</ul>
<p>The default option is <strong>Integrate torsion</strong>.</p>
</li>
<li><p><strong>Join</strong>. If checked, the node will output the single list of matrices,
joined from any number of input curves provided. Otherwise, the node will
output a separate list of matrices for each input curve. Checked by default.</p></li>
</ul>
</section>
<section id="outputs">
<h2>Outputs<a class="headerlink" href="#outputs" title="Link to this heading">¶</a></h2>
<p>This node has the following outputs:</p>
<ul class="simple">
<li><p><strong>CumulativeTorsion</strong>. Total angle of curve’s Frenet frame rotation around
curve’s tangent, when moving from curve’s starting point to the specified T
parameter value — i.e., the indefinite integral of curve’s torsion. The angle
is expressed in radians. This output is only available when <strong>Algorithm</strong>
parameter is set to <strong>Integrate torsion</strong>.</p></li>
<li><p><strong>Matrix</strong>. Curve’s zero-twist frame at specified value of the T parameter.
The location component of the matrix is the point of the curve. Z axis of the
matrix points along curve’s tangent.</p></li>
</ul>
</section>
<section id="example-of-usage">
<h2>Example of usage<a class="headerlink" href="#example-of-usage" title="Link to this heading">¶</a></h2>
<p>Use zero-twist frames to put cubes along the curve:</p>
<a class="reference external image-reference" href="https://user-images.githubusercontent.com/284644/78504364-20edcd80-7786-11ea-831e-80db9be81e2b.png"><img alt="https://user-images.githubusercontent.com/284644/78504364-20edcd80-7786-11ea-831e-80db9be81e2b.png" src="https://user-images.githubusercontent.com/284644/78504364-20edcd80-7786-11ea-831e-80db9be81e2b.png" />
</a>
<ul class="simple">
<li><p>Generator-&gt; <a class="reference internal" href="../generator/box_mk2.html"><span class="doc">Box</span></a></p></li>
<li><p>Generator-&gt; <a class="reference internal" href="../generator/random_vector_mk3.html"><span class="doc">Random Vector</span></a></p></li>
<li><p>Curves-&gt; <a class="reference internal" href="cubic_spline.html"><span class="doc">Cubic Spline</span></a></p></li>
<li><p>Curves-&gt; <a class="reference internal" href="curve_range.html"><span class="doc">Curve Domain</span></a></p></li>
<li><p>Number-&gt; <a class="reference internal" href="../number/number_range.html"><span class="doc">Number Range</span></a></p></li>
<li><p>Viz-&gt; <a class="reference internal" href="../viz/viewer_draw_mk4.html"><span class="doc">Viewer Draw</span></a></p></li>
</ul>
<p>Compare that to the use of curve’s Frenet frames:</p>
<a class="reference external image-reference" href="https://user-images.githubusercontent.com/284644/78504337-ed12a800-7785-11ea-9a6c-1427ced45d55.png"><img alt="https://user-images.githubusercontent.com/284644/78504337-ed12a800-7785-11ea-9a6c-1427ced45d55.png" src="https://user-images.githubusercontent.com/284644/78504337-ed12a800-7785-11ea-9a6c-1427ced45d55.png" />
</a>
<ul class="simple">
<li><p>Generator-&gt; <a class="reference internal" href="../generator/box_mk2.html"><span class="doc">Box</span></a></p></li>
<li><p>Generator-&gt; <a class="reference internal" href="../generator/random_vector_mk3.html"><span class="doc">Random Vector</span></a></p></li>
<li><p>Curves-&gt; <a class="reference internal" href="cubic_spline.html"><span class="doc">Cubic Spline</span></a></p></li>
<li><p>Curves-&gt; <a class="reference internal" href="curve_range.html"><span class="doc">Curve Domain</span></a></p></li>
<li><p>Number-&gt; <a class="reference internal" href="../number/number_range.html"><span class="doc">Number Range</span></a></p></li>
<li><p>Viz-&gt; <a class="reference internal" href="../viz/viewer_draw_mk4.html"><span class="doc">Viewer Draw</span></a></p></li>
</ul>
<a class="reference external image-reference" href="https://github.com/nortikin/sverchok/assets/14288520/c414cff5-b51d-48c3-ba47-122fbd2b8249"><img alt="https://github.com/nortikin/sverchok/assets/14288520/c414cff5-b51d-48c3-ba47-122fbd2b8249" src="https://github.com/nortikin/sverchok/assets/14288520/c414cff5-b51d-48c3-ba47-122fbd2b8249" />
</a>
<ul class="simple">
<li><p>Generator-&gt; <a class="reference internal" href="../generator/box_mk2.html"><span class="doc">Box</span></a></p></li>
<li><p>Generator-&gt; <a class="reference internal" href="../generator/random_vector_mk3.html"><span class="doc">Random Vector</span></a></p></li>
<li><p>Curves-&gt; <a class="reference internal" href="cubic_spline.html"><span class="doc">Cubic Spline</span></a></p></li>
<li><p>Curves-&gt; <a class="reference internal" href="curve_range.html"><span class="doc">Curve Domain</span></a></p></li>
<li><p>Number-&gt; <a class="reference internal" href="../number/number_range.html"><span class="doc">Number Range</span></a></p></li>
<li><p>Viz-&gt; <a class="reference internal" href="../viz/viewer_draw_mk4.html"><span class="doc">Viewer Draw</span></a></p></li>
</ul>
</section>
</section>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="Main">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../../main.html">
              <img class="logo" src="../../_static/title_big_b.svg" alt="Logo of Sverchok"/>
            </a></p>
  <div>
    <h3><a href="../../main.html">Table of Contents</a></h3>
    <ul>
<li><a class="reference internal" href="#">Curve Zero-Twist Frame</a><ul>
<li><a class="reference internal" href="#functionality">Functionality</a></li>
<li><a class="reference internal" href="#inputs">Inputs</a></li>
<li><a class="reference internal" href="#parameters">Parameters</a></li>
<li><a class="reference internal" href="#outputs">Outputs</a></li>
<li><a class="reference internal" href="#example-of-usage">Example of usage</a></li>
</ul>
</li>
</ul>

  </div>
  <div>
    <h4>Previous topic</h4>
    <p class="topless"><a href="torsion.html"
                          title="previous chapter">Curve Torsion</a></p>
  </div>
  <div>
    <h4>Next topic</h4>
    <p class="topless"><a href="../surface/surface_index.html"
                          title="next chapter">Surface</a></p>
  </div>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../../_sources/nodes/curve/zero_twist_frame.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<search id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</search>
<script>document.getElementById('searchbox').style.display = "block"</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="Related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../surface/surface_index.html" title="Surface"
             >next</a> |</li>
        <li class="right" >
          <a href="torsion.html" title="Curve Torsion"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../main.html">Sverchok 1, 2, 0 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="../../nodes.html" >Nodes</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="curve_index.html" >Curves</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">Curve Zero-Twist Frame</a></li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
    &#169; Copyright 2014...2025, sverchok team.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 8.2.3.
    </div>
  </body>
</html>