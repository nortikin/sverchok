<!DOCTYPE html>

<html lang="en" data-content_root="../../">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Refine NURBS Curve &#8212; Sverchok 1, 2, 0 documentation</title>
    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=fa44fd50" />
    <link rel="stylesheet" type="text/css" href="../../_static/zerovm.css?v=bbc7d13e" />
    <script src="../../_static/documentation_options.js?v=773c2105"></script>
    <script src="../../_static/doctools.js?v=9bcbadda"></script>
    <script src="../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <link rel="icon" href="../../_static/sverchock_icon_b.ico"/>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Remove Excessive Knots (NURBS Curve)" href="remove_excessive_knots.html" />
    <link rel="prev" title="Reduce Degree (NURBS Curve)" href="reduce_degree.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="Related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="remove_excessive_knots.html" title="Remove Excessive Knots (NURBS Curve)"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="reduce_degree.html" title="Reduce Degree (NURBS Curve)"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../main.html">Sverchok 1, 2, 0 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="../../nodes.html" >Nodes</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="curve_index.html" accesskey="U">Curves</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">Refine NURBS Curve</a></li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <section id="refine-nurbs-curve">
<h1>Refine NURBS Curve<a class="headerlink" href="#refine-nurbs-curve" title="Link to this heading">¶</a></h1>
<section id="functionality">
<h2>Functionality<a class="headerlink" href="#functionality" title="Link to this heading">¶</a></h2>
<p>This node performs “refinement” procedure on a NURBS curve, i.e. inserts a
number of knots in order to make it easier to manipulate with curve’s shape.
Each knot can be inserted once or multiple times. Knots are distributed
according to one of algorithms, in order to make knots distribution more even.</p>
<p>After some modifications to refined curve shape were done, unneeded knots can be
removed by use of “Remove excessive knots (Curve)” node.</p>
</section>
<section id="inputs">
<h2>Inputs<a class="headerlink" href="#inputs" title="Link to this heading">¶</a></h2>
<p>This node has the following inputs:</p>
<ul class="simple">
<li><p><strong>Curve</strong>. The NURBS Curve object to be refined. This input is mandatory.</p></li>
<li><p><strong>NewKnots</strong>. The number of knots to be inserted. The default value is 10.</p></li>
<li><p><strong>Resolution</strong>. Resolution of the algorithm which is used to calculate curve
arc lengths (see the documentation of “Curve Length” node, for example).
Larger values correspond to better precision, but worse performance. The
default value is 50. This input is only available when the <strong>Distribution</strong>
parameter is set to <strong>Distribute Length</strong> or <strong>Bisect Length</strong>.</p></li>
<li><p><strong>TMin</strong>, <strong>TMax</strong>. Minimum and maximum values of curve’s T parameters,
between which the new knots are to be inserted. These inputs are available
only when the <strong>Specify Segment</strong> parameter is checked. The default values
are 0.0 and 1.0, correspondingly.</p></li>
</ul>
</section>
<section id="parameters">
<h2>Parameters<a class="headerlink" href="#parameters" title="Link to this heading">¶</a></h2>
<p>This node has the following parameters:</p>
<ul class="simple">
<li><p><strong>Distribution</strong>. The algorithm used to distribute curve’s knots evenly. The available options are:</p>
<ul>
<li><p><strong>Even T</strong>. New knots are distributed evenly in curve’s T space, not taking
into account the fact that previously existing curve knots can lie near to
newly inserted knots. This option is the default.</p></li>
<li><p><strong>Distribute T</strong>. New knots are inserted into each segment between existing
curve knots, distributed evenly (in curve’s parameter space) inside each
segment. The number of knots inserted into each segment is proportional to
the span of curve’s T parameter, corresponding to the segment.</p></li>
<li><p><strong>Distribute Length</strong>. New knots are inserted into each segment between
existing curve knots, distributed evenly (according to curve arc length)
inside each segment. The number of knots inserted into each segment is
proportional to the curve arc length within the segment.</p></li>
<li><p><strong>Bisect T</strong>. New knot is inserted in the middle (in curve’s parameter
space) of the segment between existing curve knots, which has the maximum
span of curve’s T parameter; thus, this segment is subdivided in two
smaller ones. The following knot is similarly inserted into the segment
which is now largest. The procedure is repeated until the required number
of knots is inserted.</p></li>
<li><p><strong>Bisect Length</strong>. New knot is inserted in the middle (in terms of curve arc
length) of the segment between existing curve knots, which has the maximum
curve arc length; thus, this segment is subdivided in two smaller ones. The
following knot is similarly inserted into the segment which is now largest.
The procedure is repeated until the required number of knots is inserted.</p></li>
</ul>
</li>
<li><p><strong>Insert each knot</strong>. This defines the number of times each knot is inserted. The available options are:</p>
<ul>
<li><p><strong>Once</strong>. Each knot is inserted one time.</p></li>
<li><p><strong>As possible</strong>. Each knot is inserted as many times as possible; that is,
<cite>p-1</cite> times, where <cite>p</cite> is the degree of the curve - if the new knot does
not coincide with any of existing knots; or smaller number of times, if the
new knot happens to coincide with previously existing knot. This option is
the default.</p></li>
</ul>
</li>
<li><p><strong>Specify Segment</strong>. If checked, the node allows you to specify the range of
curve’s T parameter, into which all new knots are inserted. The range is
specified by <strong>TMin</strong>, <strong>TMax</strong> inputs. If the parameter is not checked, then
new knots will be inserted along the whole curve. Unchecked by default.</p></li>
</ul>
</section>
<section id="outputs">
<h2>Outputs<a class="headerlink" href="#outputs" title="Link to this heading">¶</a></h2>
<p>This node has the following outputs:</p>
<ul class="simple">
<li><p><strong>Curve</strong>. The resulting NURBS Curve object.</p></li>
<li><p><strong>NewKnots</strong>. The values of newly inserted knots.</p></li>
</ul>
</section>
<section id="example-of-usage">
<h2>Example of Usage<a class="headerlink" href="#example-of-usage" title="Link to this heading">¶</a></h2>
<p>Black curve is the original one. Cyan / blue is the control polygon of the original curve. Dark blue points on the curve indicate the knot values of original curve.</p>
<p>Red lines with orange dots indicate the control polygon of the resulting curve. Green dots indicate the newly inserted knots.</p>
<p>As you can see, inserting 10 knots creates a lot of control points.</p>
<img alt="https://user-images.githubusercontent.com/284644/185967665-5105d75c-5fd4-496a-9664-b81322b8e24d.png" src="https://user-images.githubusercontent.com/284644/185967665-5105d75c-5fd4-496a-9664-b81322b8e24d.png" />
</section>
</section>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="Main">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../../main.html">
              <img class="logo" src="../../_static/title_big_b.svg" alt="Logo of Sverchok"/>
            </a></p>
  <div>
    <h3><a href="../../main.html">Table of Contents</a></h3>
    <ul>
<li><a class="reference internal" href="#">Refine NURBS Curve</a><ul>
<li><a class="reference internal" href="#functionality">Functionality</a></li>
<li><a class="reference internal" href="#inputs">Inputs</a></li>
<li><a class="reference internal" href="#parameters">Parameters</a></li>
<li><a class="reference internal" href="#outputs">Outputs</a></li>
<li><a class="reference internal" href="#example-of-usage">Example of Usage</a></li>
</ul>
</li>
</ul>

  </div>
  <div>
    <h4>Previous topic</h4>
    <p class="topless"><a href="reduce_degree.html"
                          title="previous chapter">Reduce Degree (NURBS Curve)</a></p>
  </div>
  <div>
    <h4>Next topic</h4>
    <p class="topless"><a href="remove_excessive_knots.html"
                          title="next chapter">Remove Excessive Knots (NURBS Curve)</a></p>
  </div>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../../_sources/nodes/curve/refine_nurbs_curve.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<search id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</search>
<script>document.getElementById('searchbox').style.display = "block"</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="Related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="remove_excessive_knots.html" title="Remove Excessive Knots (NURBS Curve)"
             >next</a> |</li>
        <li class="right" >
          <a href="reduce_degree.html" title="Reduce Degree (NURBS Curve)"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../main.html">Sverchok 1, 2, 0 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="../../nodes.html" >Nodes</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="curve_index.html" >Curves</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">Refine NURBS Curve</a></li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
    &#169; Copyright 2014...2025, sverchok team.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 8.2.3.
    </div>
  </body>
</html>