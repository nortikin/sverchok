<!DOCTYPE html>

<html lang="en" data-content_root="../../">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>SN Functor B &#8212; Sverchok 1, 2, 0 documentation</title>
    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=fa44fd50" />
    <link rel="stylesheet" type="text/css" href="../../_static/basic.css?v=b08954a9" />
    <link rel="stylesheet" type="text/css" href="../../_static/alabaster.css?v=27fed22d" />
    <script src="../../_static/documentation_options.js?v=773c2105"></script>
    <script src="../../_static/doctools.js?v=9bcbadda"></script>
    <script src="../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <link rel="icon" href="../../_static/sverchock_icon_b.ico"/>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Topology Simple" href="topology_simple.html" />
    <link rel="prev" title="Script Node Lite" href="script1_lite.html" />
   
  <link rel="stylesheet" href="../../_static/custom.css" type="text/css" />
  

  
  

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <section id="sn-functor-b">
<h1>SN Functor B<a class="headerlink" href="#sn-functor-b" title="Link to this heading">¶</a></h1>
<p>“ScriptNode Functor Version B” is an implementation of a script node, which is better described by the examples in the thread where this node was developed. This node is not used generally, because it is not entirely a completed project with respect to how it is syntactically controlled.</p>
<p>The rational behind this node is that the code that implements the node “behind the scenes” is relatively simple, has little error checking, and relatively easy to maintain and augment. The downside is that it, unlike SNLite nodes, has a more verbose initialization syntax. See the code below.</p>
<img alt="https://user-images.githubusercontent.com/619340/48945189-b7bb4080-ef29-11e8-8d46-1d5f002a0a89.png" src="https://user-images.githubusercontent.com/619340/48945189-b7bb4080-ef29-11e8-8d46-1d5f002a0a89.png" />
<p>here’s an example snippet:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">sverchok</span>
<span class="kn">from</span> <span class="nn">sverchok.utils.geom</span> <span class="kn">import</span> <span class="n">arc_slice</span>

<span class="k">def</span> <span class="nf">functor_init</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">context</span><span class="p">):</span>
    <span class="n">inew</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">inputs</span><span class="o">.</span><span class="n">new</span>
    <span class="n">inew</span><span class="p">(</span><span class="s2">&quot;SvStringsSocket&quot;</span><span class="p">,</span> <span class="s2">&quot;outer radius&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">prop_name</span> <span class="o">=</span> <span class="s2">&quot;float_01&quot;</span>
    <span class="n">inew</span><span class="p">(</span><span class="s2">&quot;SvStringsSocket&quot;</span><span class="p">,</span> <span class="s2">&quot;inner radius&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">prop_name</span> <span class="o">=</span> <span class="s2">&quot;float_02&quot;</span>
    <span class="n">inew</span><span class="p">(</span><span class="s2">&quot;SvStringsSocket&quot;</span><span class="p">,</span> <span class="s2">&quot;angle&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">prop_name</span> <span class="o">=</span> <span class="s2">&quot;float_03&quot;</span>
    <span class="n">inew</span><span class="p">(</span><span class="s2">&quot;SvStringsSocket&quot;</span><span class="p">,</span> <span class="s2">&quot;phase&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">prop_name</span> <span class="o">=</span> <span class="s2">&quot;float_04&quot;</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">outputs</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="s2">&quot;SvVerticesSocket&quot;</span><span class="p">,</span> <span class="s2">&quot;verts&quot;</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">outputs</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="s2">&quot;SvStringsSocket&quot;</span><span class="p">,</span> <span class="s2">&quot;edges&quot;</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">outputs</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="s2">&quot;SvStringsSocket&quot;</span><span class="p">,</span> <span class="s2">&quot;faces&quot;</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">draw_buttons</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">context</span><span class="p">,</span> <span class="n">layout</span><span class="p">):</span>
    <span class="k">pass</span>

<span class="k">def</span> <span class="nf">process</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="n">outer_radius</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">inputs</span><span class="p">[</span><span class="s1">&#39;outer radius&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">sv_get</span><span class="p">()[</span><span class="mi">0</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span>
    <span class="n">inner_radius</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">inputs</span><span class="p">[</span><span class="s1">&#39;inner radius&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">sv_get</span><span class="p">()[</span><span class="mi">0</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span>
    <span class="n">phase</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">inputs</span><span class="p">[</span><span class="s1">&#39;phase&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">sv_get</span><span class="p">()[</span><span class="mi">0</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span>
    <span class="n">angle</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">inputs</span><span class="p">[</span><span class="s1">&#39;angle&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">sv_get</span><span class="p">()[</span><span class="mi">0</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span>

    <span class="n">geom</span> <span class="o">=</span> <span class="n">arc_slice</span><span class="p">(</span><span class="n">outer_radius</span><span class="o">=</span><span class="n">outer_radius</span><span class="p">,</span> <span class="n">inner_radius</span><span class="o">=</span><span class="n">inner_radius</span><span class="p">,</span> <span class="n">phase</span><span class="o">=</span><span class="n">phase</span><span class="p">,</span> <span class="n">angle</span><span class="o">=</span><span class="n">angle</span><span class="p">)</span>

    <span class="k">for</span> <span class="n">idx</span><span class="p">,</span> <span class="n">data</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">geom</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">outputs</span><span class="p">[</span><span class="n">idx</span><span class="p">]</span><span class="o">.</span><span class="n">sv_set</span><span class="p">([</span><span class="n">data</span><span class="p">])</span>
</pre></div>
</div>
<p>the <strong>functor_init</strong> function is where you add sockets and set attributes of those sockets, much like coding regular
sverchok nodes.</p>
<p>the <strong>draw_buttons</strong> is optional, and is called by the baseclass.</p>
<p>the <strong>process</strong> function is performed whenever the node is told to update, to understand when this happens you should
read up on how Sverchok implements the update mechanism.</p>
<p><a class="reference external" href="https://github.com/nortikin/sverchok/issues/2312">https://github.com/nortikin/sverchok/issues/2312</a></p>
</section>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="Main">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../../main.html">
              <img class="logo" src="../../_static/title_big_b.svg" alt="Logo of Sverchok"/>
            </a></p>
<h1 class="logo"><a href="../../main.html">Sverchok</a></h1>









<search id="searchbox" style="display: none" role="search">
    <div class="searchformwrapper">
    <form class="search" action="../../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" placeholder="Search"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</search>
<script>document.getElementById('searchbox').style.display = "block"</script><h3>Navigation</h3>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../introduction/introduction.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../installation/installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../user_interface/user_interface.html">User interface</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../tree_evaluation_system.html">Node tree evaluation system</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../data_structure/data_structure_index.html">Data structure</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../nodes.html">Nodes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../tutorials/tutorials.html">Tutorials</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../tutorials/celling.html">Celling design</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../contributing/contributing_to_sverchok.html">Contributing to sverchok</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../../main.html">Documentation overview</a><ul>
  <li><a href="../../nodes.html">Nodes</a><ul>
  <li><a href="script_index.html">Script</a><ul>
      <li>Previous: <a href="script1_lite.html" title="previous chapter">Script Node Lite</a></li>
      <li>Next: <a href="topology_simple.html" title="next chapter">Topology Simple</a></li>
  </ul></li>
  </ul></li>
  </ul></li>
</ul>
</div>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &#169;2014...2025, sverchok team.
      
      |
      Powered by <a href="https://www.sphinx-doc.org/">Sphinx 8.2.3</a>
      &amp; <a href="https://alabaster.readthedocs.io">Alabaster 1.0.0</a>
      
      |
      <a href="../../_sources/nodes/script/sn_functor_b.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>