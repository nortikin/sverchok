<!DOCTYPE html>

<html lang="en" data-content_root="../../">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Num Expression &#8212; Sverchok 1, 2, 0 documentation</title>
    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=fa44fd50" />
    <link rel="stylesheet" type="text/css" href="../../_static/basic.css?v=b08954a9" />
    <link rel="stylesheet" type="text/css" href="../../_static/alabaster.css?v=27fed22d" />
    <script src="../../_static/documentation_options.js?v=773c2105"></script>
    <script src="../../_static/doctools.js?v=9bcbadda"></script>
    <script src="../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <link rel="icon" href="../../_static/sverchock_icon_b.ico"/>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Profile Parametric Node" href="profile_mk3.html" />
    <link rel="prev" title="Exec Node Mod" href="multi_exec.html" />
   
  <link rel="stylesheet" href="../../_static/custom.css" type="text/css" />
  

  
  

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <section id="num-expression">
<h1>Num Expression<a class="headerlink" href="#num-expression" title="Link to this heading">¶</a></h1>
<section id="functionality">
<h2>Functionality<a class="headerlink" href="#functionality" title="Link to this heading">¶</a></h2>
<p>This node is currently fastest way to evaluate an expression. For best
performance the node should get NumPy arrays. But vectorization is slow as
it is for any other node in Sverchok, so make sure that you have all numbers in
a single object if performance is important.</p>
<p>The node is based on <a class="reference external" href="https://numexpr.readthedocs.io/projects/NumExpr3/en/latest/user_guide.html">NumExpr library</a>. It supports next operators:</p>
<blockquote>
<div><ul class="simple">
<li><p>Bitwise operators (and, or, not, xor): <code class="code docutils literal notranslate"><span class="pre">&amp;,</span> <span class="pre">|,</span> <span class="pre">~,</span> <span class="pre">^</span></code></p></li>
<li><p>Comparison operators: <code class="code docutils literal notranslate"><span class="pre">&lt;,</span> <span class="pre">&lt;=,</span> <span class="pre">==,</span> <span class="pre">!=,</span> <span class="pre">&gt;=,</span> <span class="pre">&gt;</span></code></p></li>
<li><p>Unary arithmetic operators: <code class="code docutils literal notranslate"><span class="pre">-</span></code></p></li>
<li><p>Binary arithmetic operators: <code class="code docutils literal notranslate"><span class="pre">+,</span> <span class="pre">-,</span> <span class="pre">*,</span> <span class="pre">/,</span> <span class="pre">**,</span> <span class="pre">%,</span> <span class="pre">&lt;&lt;,</span> <span class="pre">&gt;&gt;</span></code></p></li>
</ul>
</div></blockquote>
<p>Supported functions:</p>
<blockquote>
<div><ul class="simple">
<li><p><code class="code docutils literal notranslate"><span class="pre">where(bool,</span> <span class="pre">number1,</span> <span class="pre">number2):</span> <span class="pre">number</span></code> – number1 if the bool condition
is true, number2 otherwise.</p></li>
<li><p><code class="code docutils literal notranslate"><span class="pre">{sin,cos,tan}(float|complex):</span> <span class="pre">float|complex</span></code> – trigonometric sine,
cosine or tangent.</p></li>
<li><p><code class="code docutils literal notranslate"><span class="pre">{arcsin,arccos,arctan}(float|complex):</span> <span class="pre">float|complex</span></code> – trigonometric
inverse sine, cosine or tangent.</p></li>
<li><p><code class="code docutils literal notranslate"><span class="pre">arctan2(float1,</span> <span class="pre">float2):</span> <span class="pre">float</span></code> – trigonometric inverse tangent of
float1/float2.</p></li>
<li><p><code class="code docutils literal notranslate"><span class="pre">{sinh,cosh,tanh}(float|complex):</span> <span class="pre">float|complex</span></code> – hyperbolic sine,
cosine or tangent.</p></li>
<li><p><code class="code docutils literal notranslate"><span class="pre">{arcsinh,arccosh,arctanh}(float|complex):</span> <span class="pre">float|complex</span></code> – hyperbolic
inverse sine, cosine or tangent.</p></li>
<li><p><code class="code docutils literal notranslate"><span class="pre">{log,log10,log1p}(float|complex):</span> <span class="pre">float|complex</span></code> – natural, base-10 and
log(1+x) logarithms.</p></li>
<li><p><code class="code docutils literal notranslate"><span class="pre">{exp,expm1}(float|complex):</span> <span class="pre">float|complex</span></code> – exponential and exponential
minus one.</p></li>
<li><p><code class="code docutils literal notranslate"><span class="pre">sqrt(float|complex):</span> <span class="pre">float|complex</span></code> – square root.</p></li>
<li><p><code class="code docutils literal notranslate"><span class="pre">abs(float|complex):</span> <span class="pre">float|complex</span></code>  – absolute value.</p></li>
<li><p><code class="code docutils literal notranslate"><span class="pre">conj(complex):</span> <span class="pre">complex</span></code> – conjugate value.</p></li>
<li><p><code class="code docutils literal notranslate"><span class="pre">{real,imag}(complex):</span> <span class="pre">float</span></code> – real or imaginary part of complex.</p></li>
<li><p><code class="code docutils literal notranslate"><span class="pre">complex(float,</span> <span class="pre">float):</span> <span class="pre">complex</span></code> – complex from real and imaginary
parts.</p></li>
<li><p><code class="code docutils literal notranslate"><span class="pre">contains(np.str,</span> <span class="pre">np.str):</span> <span class="pre">bool</span></code> – returns True for every string in <code class="code docutils literal notranslate"><span class="pre">op1</span></code> that
contains <code class="code docutils literal notranslate"><span class="pre">op2</span></code>.</p></li>
<li><p><code class="code docutils literal notranslate"><span class="pre">{floor}(float):</span> <span class="pre">float</span></code> – returns the greatest integer less than or
equal to x.</p></li>
<li><p><code class="code docutils literal notranslate"><span class="pre">{ceil}(float):</span> <span class="pre">float</span></code> – returns the least integer greater than or
equal to x</p></li>
</ul>
</div></blockquote>
<p>Reduction functions:</p>
<blockquote>
<div><ul class="simple">
<li><p><code class="code docutils literal notranslate"><span class="pre">sum(number,</span> <span class="pre">axis=None)</span></code>: Sum of array elements over a given axis.
Negative axis are not supported.</p></li>
<li><p><code class="code docutils literal notranslate"><span class="pre">prod(number,</span> <span class="pre">axis=None)</span></code>: Product of array elements over a given axis.
Negative axis are not supported.</p></li>
<li><p><code class="code docutils literal notranslate"><span class="pre">{min,max}(number,</span> <span class="pre">axis=None)</span></code>: Find minimum/maximum value over a given axis.
Negative axis are not supported.</p></li>
</ul>
</div></blockquote>
<p><em>Note:</em> because of internal limitations, reduction operations must appear the
last in the stack.  If not, it will be issued an error like:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">ne</span><span class="o">.</span><span class="n">evaluate</span><span class="p">(</span><span class="s1">&#39;sum(1)*(-1)&#39;</span><span class="p">)</span>
<span class="go">RuntimeError: invalid program: reduction operations must occur last</span>
</pre></div>
</div>
<p>The node automatically generates sockets for each variable in an input formula.
The type of sockets can be either float/int or vector. The type of generated
socket is dependent on the name of the variable. To generate vector type the
variable should statr with upper <code class="docutils literal notranslate"><span class="pre">V</span></code> letter. Any other variable names will
generate float/int type. The order of sockets is dependent on variable names.
They are sorted in alphabetical order. The output type is vector if there is
at least one input vector type. Variable names should be Pythonic.</p>
</section>
<section id="inputs">
<h2>Inputs<a class="headerlink" href="#inputs" title="Link to this heading">¶</a></h2>
<p>Variable number of inputs depending on the input formula.</p>
</section>
<section id="outputs">
<h2>Outputs<a class="headerlink" href="#outputs" title="Link to this heading">¶</a></h2>
<ul class="simple">
<li><p>Result</p></li>
</ul>
</section>
<section id="examples">
<h2>Examples<a class="headerlink" href="#examples" title="Link to this heading">¶</a></h2>
<figure class="align-default" id="id1">
<a class="reference external image-reference" href="https://user-images.githubusercontent.com/28003269/210037965-560e2d6b-3563-4efc-9be3-da35bdf3b049.png"><img alt="https://user-images.githubusercontent.com/28003269/210037965-560e2d6b-3563-4efc-9be3-da35bdf3b049.png" src="https://user-images.githubusercontent.com/28003269/210037965-560e2d6b-3563-4efc-9be3-da35bdf3b049.png" />
</a>
<figcaption>
<p><span class="caption-text">Round a value according to given step.</span><a class="headerlink" href="#id1" title="Link to this image">¶</a></p>
</figcaption>
</figure>
</section>
</section>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="Main">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../../main.html">
              <img class="logo" src="../../_static/title_big_b.svg" alt="Logo of Sverchok"/>
            </a></p>
<h1 class="logo"><a href="../../main.html">Sverchok</a></h1>









<search id="searchbox" style="display: none" role="search">
    <div class="searchformwrapper">
    <form class="search" action="../../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" placeholder="Search"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</search>
<script>document.getElementById('searchbox').style.display = "block"</script><h3>Navigation</h3>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../introduction/introduction.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../installation/installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../user_interface/user_interface.html">User interface</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../tree_evaluation_system.html">Node tree evaluation system</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../data_structure/data_structure_index.html">Data structure</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../nodes.html">Nodes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../tutorials/tutorials.html">Tutorials</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../tutorials/celling.html">Celling design</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../contributing/contributing_to_sverchok.html">Contributing to sverchok</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../../main.html">Documentation overview</a><ul>
  <li><a href="../../nodes.html">Nodes</a><ul>
  <li><a href="script_index.html">Script</a><ul>
      <li>Previous: <a href="multi_exec.html" title="previous chapter">Exec Node Mod</a></li>
      <li>Next: <a href="profile_mk3.html" title="next chapter">Profile Parametric Node</a></li>
  </ul></li>
  </ul></li>
  </ul></li>
</ul>
</div>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &#169;2014...2025, sverchok team.
      
      |
      Powered by <a href="https://www.sphinx-doc.org/">Sphinx 8.2.3</a>
      &amp; <a href="https://alabaster.readthedocs.io">Alabaster 1.0.0</a>
      
      |
      <a href="../../_sources/nodes/script/numexpr_node.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>