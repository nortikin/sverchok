<!DOCTYPE html>

<html lang="en" data-content_root="../../">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Raycast on Surface &#8212; Sverchok 1, 2, 0 documentation</title>
    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=fa44fd50" />
    <link rel="stylesheet" type="text/css" href="../../_static/basic.css?v=b08954a9" />
    <link rel="stylesheet" type="text/css" href="../../_static/alabaster.css?v=27fed22d" />
    <script src="../../_static/documentation_options.js?v=773c2105"></script>
    <script src="../../_static/doctools.js?v=9bcbadda"></script>
    <script src="../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <link rel="icon" href="../../_static/sverchock_icon_b.ico"/>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Revolution Surface" href="revolution_surface.html" />
    <link rel="prev" title="Plane (Surface)" href="plane.html" />
   
  <link rel="stylesheet" href="../../_static/custom.css" type="text/css" />
  

  
  

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <section id="raycast-on-surface">
<h1>Raycast on Surface<a class="headerlink" href="#raycast-on-surface" title="Link to this heading">¶</a></h1>
<a class="reference external image-reference" href="https://github.com/nortikin/sverchok/assets/14288520/fa62c6eb-b7a2-49ef-bbb4-48c6b890ca29"><img alt="https://github.com/nortikin/sverchok/assets/14288520/fa62c6eb-b7a2-49ef-bbb4-48c6b890ca29" src="https://github.com/nortikin/sverchok/assets/14288520/fa62c6eb-b7a2-49ef-bbb4-48c6b890ca29" />
</a>
<section id="dependencies">
<h2>Dependencies<a class="headerlink" href="#dependencies" title="Link to this heading">¶</a></h2>
<p>This node requires <a class="reference external" href="https://scipy.org/">SciPy</a> library to work.</p>
</section>
<section id="functionality">
<h2>Functionality<a class="headerlink" href="#functionality" title="Link to this heading">¶</a></h2>
<p>This node implements ray <a class="reference external" href="https://en.wikipedia.org/wiki/Ray_casting">casting</a> onto an arbitrary surface; in other words,
given a point in 3D space and ray direction vector, it will find a point where
this ray intersects the given surface first time.</p>
<p>This node uses a numerical method to find the intersection point, so it may be
not very fast. If you happen to know how to find the intersection point for
your specific surface by some formula, that will be faster and more precise.</p>
<a class="reference external image-reference" href="https://github.com/nortikin/sverchok/assets/14288520/d586f26e-d0d2-4811-965a-8c0f329bfd61"><img alt="https://github.com/nortikin/sverchok/assets/14288520/d586f26e-d0d2-4811-965a-8c0f329bfd61" src="https://github.com/nortikin/sverchok/assets/14288520/d586f26e-d0d2-4811-965a-8c0f329bfd61" />
</a>
</section>
<section id="inputs">
<h2>Inputs<a class="headerlink" href="#inputs" title="Link to this heading">¶</a></h2>
<p>This node has the following inputs:</p>
<ul>
<li><p><strong>Surface</strong>. The surface to find intersection with. This input is mandatory.</p></li>
<li><p><strong>Source</strong>. Source point of the ray. The default value is <code class="docutils literal notranslate"><span class="pre">(0,</span> <span class="pre">0,</span> <span class="pre">1)</span></code>.</p></li>
<li><p><strong>Point</strong>. The second point through which the ray goes. This input is
available only when <strong>Project</strong> parameter is set to <strong>From Source</strong>.</p></li>
<li><p><strong>Direction</strong>. Ray direction. The default value is <code class="docutils literal notranslate"><span class="pre">(0,</span> <span class="pre">0,</span> <span class="pre">-1)</span></code>. This input
is available only when <strong>Project</strong> parameter is set to <strong>Along Direction</strong>.</p>
<blockquote>
<div><a class="reference external image-reference" href="https://github.com/nortikin/sverchok/assets/14288520/7c958109-abca-4570-a8ac-be9ee9445892"><img alt="https://github.com/nortikin/sverchok/assets/14288520/7c958109-abca-4570-a8ac-be9ee9445892" src="https://github.com/nortikin/sverchok/assets/14288520/7c958109-abca-4570-a8ac-be9ee9445892" />
</a>
</div></blockquote>
</li>
</ul>
</section>
<section id="parameters">
<h2>Parameters<a class="headerlink" href="#parameters" title="Link to this heading">¶</a></h2>
<p>This node has the following parameters:</p>
<ul>
<li><p><strong>Project</strong>. This defines how the direction of the ray is specified. The available options are:</p>
<ul>
<li><p><strong>Along Direction</strong>. Ray is specified by defining it’s source point in
<strong>Source</strong> input, and it’s direction vector in <strong>Direction</strong> input.</p>
<blockquote>
<div><a class="reference external image-reference" href="https://github.com/nortikin/sverchok/assets/14288520/04c75833-06f6-497a-9e99-9de8ca5416ac"><img alt="https://github.com/nortikin/sverchok/assets/14288520/04c75833-06f6-497a-9e99-9de8ca5416ac" src="https://github.com/nortikin/sverchok/assets/14288520/04c75833-06f6-497a-9e99-9de8ca5416ac" />
</a>
</div></blockquote>
</li>
<li><p><strong>From Source</strong>. Ray is specified by defining it’s source point in
<strong>Source</strong> input, and a second point on the same ray in <strong>Point</strong> input.</p>
<blockquote>
<div><a class="reference external image-reference" href="https://github.com/nortikin/sverchok/assets/14288520/97719a38-f5c9-4979-b87d-ec579d1471b7"><img alt="https://github.com/nortikin/sverchok/assets/14288520/97719a38-f5c9-4979-b87d-ec579d1471b7" src="https://github.com/nortikin/sverchok/assets/14288520/97719a38-f5c9-4979-b87d-ec579d1471b7" />
</a>
</div></blockquote>
</li>
</ul>
<p>The default option is <strong>Along Direction</strong>.</p>
</li>
<li><p><strong>Precise</strong>. If checked, then the node will calculate precise intersection
point with a numerical algorithm. Otherwise, it will return “initial guess”
point, calculated by use of Blender’s “BVH raycasting” method. In this case,
<strong>Samples</strong> parameter defines the precision of calculation. Checked by
default.</p></li>
<li><p><strong>Samples</strong>. This parameter is available in the N panel only, if <strong>Precise</strong>
parameter is checked. To find the “initial guess” point for numerical method,
this node evaluates the surface in points of cartesian grid, and uses
Blender’s “BVH raycast” method. This input defines the number of samples for
this first step. The higher this number is, the more precise the initial
guess is, so the less work for numeric method; but the more time will this
first step take. In most cases, you do not have to change this parameter. The
default value is 10.</p>
<blockquote>
<div><a class="reference external image-reference" href="https://github.com/nortikin/sverchok/assets/14288520/7f1f5ee9-2390-43a8-a061-e364b1f86cf4"><img alt="https://github.com/nortikin/sverchok/assets/14288520/7f1f5ee9-2390-43a8-a061-e364b1f86cf4" src="https://github.com/nortikin/sverchok/assets/14288520/7f1f5ee9-2390-43a8-a061-e364b1f86cf4" />
</a>
</div></blockquote>
</li>
<li><p><strong>Method</strong>. This parameter is available in the N panel only. Type of numeric
method to be used. The available options are:</p>
<blockquote>
<div><ul class="simple">
<li><p><strong>Hybrd &amp; Hybrj</strong>. Use MINPACK’s hybrd and hybrj routines (modified Powell method).</p></li>
<li><p><strong>Levenberg-Marquardt</strong>. Levenberg-Marquardt algorithm.</p></li>
<li><p><strong>Krylov</strong>. Krylov algorithm.</p></li>
<li><p><strong>Broyden 1</strong>. Broyden1 algorithm.</p></li>
<li><p><strong>Broyden 2</strong>. Broyden2 algorithm.</p></li>
<li><p><strong>Anderson</strong>. Anderson algorithm.</p></li>
<li><p><strong>DF-SANE</strong>. DF-SANE method.</p></li>
</ul>
<p>The default option is <strong>Hybrd &amp; Hybrj</strong>. In simple cases, you do not
have to change this parameter. In more complex cases, you will have to try
all of them and decide which one fits you better.</p>
</div></blockquote>
</li>
</ul>
</section>
<section id="outputs">
<h2>Outputs<a class="headerlink" href="#outputs" title="Link to this heading">¶</a></h2>
<p>This node has the following outputs:</p>
<ul class="simple">
<li><p><strong>Point</strong>. The intersection point in 3D space.</p></li>
<li><p><strong>UVPoint</strong>. The point in surface’s U/V space, corresponding to the intersection point.</p></li>
</ul>
</section>
<section id="example-of-usage">
<h2>Example of usage<a class="headerlink" href="#example-of-usage" title="Link to this heading">¶</a></h2>
<p>Along Direction (Parallel):</p>
<a class="reference external image-reference" href="https://github.com/nortikin/sverchok/assets/14288520/a5223515-5df5-449f-8d72-62e30cb340f5"><img alt="https://github.com/nortikin/sverchok/assets/14288520/a5223515-5df5-449f-8d72-62e30cb340f5" src="https://github.com/nortikin/sverchok/assets/14288520/a5223515-5df5-449f-8d72-62e30cb340f5" />
</a>
<ul class="simple">
<li><p>Generator-&gt; <a class="reference internal" href="../generator/line_mk4.html"><span class="doc">Line</span></a></p></li>
<li><p>Generator-&gt; <a class="reference internal" href="../generator/segment.html"><span class="doc">Segment</span></a></p></li>
<li><p>Generator-&gt; <a class="reference internal" href="../generator/plane_mk3.html"><span class="doc">Plane</span></a></p></li>
<li><p>Surfaces-&gt; <a class="reference internal" href="minimal_surface.html"><span class="doc">Minimal Surface</span></a></p></li>
<li><p>Surfaces-&gt; <a class="reference internal" href="evaluate_surface.html"><span class="doc">Evaluate Surface</span></a></p></li>
<li><p>Transform-&gt; <a class="reference internal" href="../transforms/noise_displace.html"><span class="doc">Noise Displace</span></a></p></li>
<li><p>Vector-&gt; <a class="reference internal" href="../vector/vector_polar_in.html"><span class="doc">Vector Polar Input</span></a></p></li>
<li><p>Matrix-&gt; <a class="reference internal" href="../matrix/matrix_in_mk4.html"><span class="doc">Matrix In</span></a></p></li>
<li><p>Viz-&gt; <a class="reference internal" href="../viz/viewer_draw_mk4.html"><span class="doc">Viewer Draw</span></a></p></li>
</ul>
<a class="reference external image-reference" href="https://github.com/nortikin/sverchok/assets/14288520/9be76fe3-d9a0-4b1f-ae42-0b73b0a67174"><img alt="https://github.com/nortikin/sverchok/assets/14288520/9be76fe3-d9a0-4b1f-ae42-0b73b0a67174" src="https://github.com/nortikin/sverchok/assets/14288520/9be76fe3-d9a0-4b1f-ae42-0b73b0a67174" />
</a>
<hr class="docutils" />
<p>From Source (Conic):</p>
<a class="reference external image-reference" href="https://github.com/nortikin/sverchok/assets/14288520/c22f6d04-501a-4bd8-a5c5-32677826fa43"><img alt="https://github.com/nortikin/sverchok/assets/14288520/c22f6d04-501a-4bd8-a5c5-32677826fa43" src="https://github.com/nortikin/sverchok/assets/14288520/c22f6d04-501a-4bd8-a5c5-32677826fa43" />
</a>
<ul class="simple">
<li><p>Generator-&gt; <a class="reference internal" href="../generator/segment.html"><span class="doc">Segment</span></a></p></li>
<li><p>Generator-&gt; <a class="reference internal" href="../generator/plane_mk3.html"><span class="doc">Plane</span></a></p></li>
<li><p>Surfaces-&gt; <a class="reference internal" href="minimal_surface.html"><span class="doc">Minimal Surface</span></a></p></li>
<li><p>Surfaces-&gt; <a class="reference internal" href="evaluate_surface.html"><span class="doc">Evaluate Surface</span></a></p></li>
<li><p>Transform-&gt; <a class="reference internal" href="../transforms/noise_displace.html"><span class="doc">Noise Displace</span></a></p></li>
<li><p>Vector-&gt; <a class="reference internal" href="../vector/vector_polar_in.html"><span class="doc">Vector Polar Input</span></a></p></li>
<li><p>Matrix-&gt; <a class="reference internal" href="../matrix/matrix_in_mk4.html"><span class="doc">Matrix In</span></a></p></li>
<li><p>Viz-&gt; <a class="reference internal" href="../viz/viewer_draw_mk4.html"><span class="doc">Viewer Draw</span></a></p></li>
</ul>
<a class="reference external image-reference" href="https://github.com/nortikin/sverchok/assets/14288520/67cf4338-8a9a-4853-9a81-8b1bec1b77df"><img alt="https://github.com/nortikin/sverchok/assets/14288520/67cf4338-8a9a-4853-9a81-8b1bec1b77df" src="https://github.com/nortikin/sverchok/assets/14288520/67cf4338-8a9a-4853-9a81-8b1bec1b77df" />
</a>
<hr class="docutils" />
<a class="reference external image-reference" href="https://user-images.githubusercontent.com/284644/87579479-69a31400-c6ef-11ea-9996-2675af3f6106.png"><img alt="https://user-images.githubusercontent.com/284644/87579479-69a31400-c6ef-11ea-9996-2675af3f6106.png" src="https://user-images.githubusercontent.com/284644/87579479-69a31400-c6ef-11ea-9996-2675af3f6106.png" />
</a>
<ul class="simple">
<li><p>Curves-&gt; <a class="reference internal" href="../curve/rounded_rectangle.html"><span class="doc">Rounded Rectangle</span></a></p></li>
<li><p>Curves-&gt;Curve Primitives-&gt; <a class="reference internal" href="../curve/ellipse_curve.html"><span class="doc">Ellipse (Curve)</span></a></p></li>
<li><p>Curves-&gt; <a class="reference internal" href="../curve/eval_curve.html"><span class="doc">Evaluate Curve</span></a></p></li>
<li><p>Surfaces-&gt; <a class="reference internal" href="extrude_vector.html"><span class="doc">Extrude Curve Along Vector</span></a></p></li>
<li><p>Surfaces-&gt; <a class="reference internal" href="evaluate_surface.html"><span class="doc">Evaluate Surface</span></a></p></li>
<li><p>Modifiers-&gt;Modifier Make-&gt; <a class="reference internal" href="../modifier_make/uv_connect.html"><span class="doc">UV Connection</span></a></p></li>
<li><p>Matrix-&gt; <a class="reference internal" href="../matrix/matrix_in_mk4.html"><span class="doc">Matrix In</span></a></p></li>
<li><p>Viz-&gt; <a class="reference internal" href="../viz/viewer_draw_mk4.html"><span class="doc">Viewer Draw</span></a></p></li>
</ul>
<p>Note that in this case we set <strong>Method</strong> parameter to <strong>Krylov</strong>.</p>
</section>
</section>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="Main">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../../main.html">
              <img class="logo" src="../../_static/title_big_b.svg" alt="Logo of Sverchok"/>
            </a></p>
<h1 class="logo"><a href="../../main.html">Sverchok</a></h1>









<search id="searchbox" style="display: none" role="search">
    <div class="searchformwrapper">
    <form class="search" action="../../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" placeholder="Search"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</search>
<script>document.getElementById('searchbox').style.display = "block"</script><h3>Navigation</h3>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../introduction/introduction.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../installation/installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../user_interface/user_interface.html">User interface</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../tree_evaluation_system.html">Node tree evaluation system</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../data_structure/data_structure_index.html">Data structure</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../nodes.html">Nodes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../tutorials/tutorials.html">Tutorials</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../tutorials/celling.html">Celling design</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../contributing/contributing_to_sverchok.html">Contributing to sverchok</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../../main.html">Documentation overview</a><ul>
  <li><a href="../../nodes.html">Nodes</a><ul>
  <li><a href="surface_index.html">Surface</a><ul>
      <li>Previous: <a href="plane.html" title="previous chapter">Plane (Surface)</a></li>
      <li>Next: <a href="revolution_surface.html" title="next chapter">Revolution Surface</a></li>
  </ul></li>
  </ul></li>
  </ul></li>
</ul>
</div>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &#169;2014...2025, sverchok team.
      
      |
      Powered by <a href="https://www.sphinx-doc.org/">Sphinx 8.2.3</a>
      &amp; <a href="https://alabaster.readthedocs.io">Alabaster 1.0.0</a>
      
      |
      <a href="../../_sources/nodes/surface/raycast.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>