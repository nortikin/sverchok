<!DOCTYPE html>

<html lang="en" data-content_root="../../">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>NURBS Surface from Curves Net &#8212; Sverchok 1, 2, 0 documentation</title>
    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=fa44fd50" />
    <link rel="stylesheet" type="text/css" href="../../_static/zerovm.css?v=bbc7d13e" />
    <script src="../../_static/documentation_options.js?v=773c2105"></script>
    <script src="../../_static/doctools.js?v=9bcbadda"></script>
    <script src="../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <link rel="icon" href="../../_static/sverchock_icon_b.ico"/>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Implicit Surface Raycast" href="implicit_surface_raycast.html" />
    <link rel="prev" title="Surface Gauss Curvature" href="gauss_curvature.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="Related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="implicit_surface_raycast.html" title="Implicit Surface Raycast"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="gauss_curvature.html" title="Surface Gauss Curvature"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../main.html">Sverchok 1, 2, 0 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="../../nodes.html" >Nodes</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="surface_index.html" accesskey="U">Surface</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">NURBS Surface from Curves Net</a></li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <section id="nurbs-surface-from-curves-net">
<h1>NURBS Surface from Curves Net<a class="headerlink" href="#nurbs-surface-from-curves-net" title="Link to this heading">¶</a></h1>
<section id="functionality">
<h2>Functionality<a class="headerlink" href="#functionality" title="Link to this heading">¶</a></h2>
<p>Given a net of intersecting curves, this node generates a surface which passes
through all given curves.</p>
<p>A net of curves is two sets of curves, one set along one direction and one set
along another. One set of curves is called “U-curves” (curves along U
direction) and another set of curves is called “V-curves” (curves along V
direction).</p>
<p>Apart of curves grid, this node requires intersection points of curves provided
explicitly. Intersection points can be calculated by use of “Intersect NURBS
curves” node. Note: that node uses numeric algorithms to calculate
intersections, so it can fail to find intersections, or give imprecise results.
So, if you have intersection points in advance, it’s better to use them.</p>
<p>This node generates a NURBS surface from NURBS curves according to algorithm
known as “Gordon Surface”.</p>
<p>“Gordon Surface” algorithm has a number of restrictions:</p>
<ul class="simple">
<li><p>All input curves must be NURBS or NURBS-like. More specifically, only
non-rational curves are supported - i.e., without weights (or all weights
equal).</p></li>
<li><p>All U-curves must have “the same” direction; all V-curves must also have “the
same” direction.</p></li>
<li><p>There must be N curves along one direction, and M curves along another
direction, which must exactly intersect at <cite>N x M</cite> points.</p></li>
<li><p>Intersection points must be located evenly in parameter spaces of curves. For
example, V-Curve <cite>C_v</cite> must intersect all U-curves <cite>C_u</cite> at the same value of
U parameter. In other words, intersection points must be located so that
given curves would represent iso-curves of some surface, along U and V
directions correspondingly.</p></li>
<li><p>U-curves must be ordered along direction of V-curves, and vice versa. For
example, if U-curve <cite>C_u1</cite> intersects V-curve <cite>C_v</cite> at <cite>v = v1</cite>, and another
U-curve C_u2 intersects the same V-curve <cite>C_v</cite> at <cite>v = v2</cite>, and <cite>v1 &lt; v2</cite>,
then in input curves list, <cite>C_u1</cite> must be provided before <cite>C_u2</cite>.</p></li>
</ul>
<p>If some of these requirements are not met exactly, then the resulting surface
will pass through the curves only approximately.</p>
<p>If intersections of your curves are located arbitrarily in parameter spaces of
curves, the node can try to reparametrize curves in order to make intersections
located “even” in parameter spaces. Note that reparametrization algorithm is
somewhat rude, so it can produce unwanted additional control points, and/or
create “bad” parametrization of resulting surface. In some cases, it is
possible to get a better parametrization by manually removing excessive knots.</p>
<p>To clear the issue of intersections location in parameter space, let’s draw some pictures.</p>
<p>Good parametrization: (first number is parameter of U-curve at the intersection
point, the second number is parameter of V-curve at the intersection point):</p>
<img alt="https://user-images.githubusercontent.com/284644/123667069-394a7c00-d853-11eb-86dd-4b7b79bbb827.png" src="https://user-images.githubusercontent.com/284644/123667069-394a7c00-d853-11eb-86dd-4b7b79bbb827.png" />
<p>Note that when you move from left to right, U value is changing by the same
amount at all U-curves. And when you move from bottom to top, V-value is
changing by the same amount at all V-curves.</p>
<p>“Bad” parametrization:</p>
<img alt="https://user-images.githubusercontent.com/284644/123667108-44051100-d853-11eb-9f68-52529b2278d8.png" src="https://user-images.githubusercontent.com/284644/123667108-44051100-d853-11eb-9f68-52529b2278d8.png" />
</section>
<section id="inputs">
<h2>Inputs<a class="headerlink" href="#inputs" title="Link to this heading">¶</a></h2>
<p>This node has the following inputs:</p>
<ul class="simple">
<li><p><strong>CurvesU</strong>. Set of curves along U direction. This input is mandatory. At
least two U-curves is required to build a proper surface.</p></li>
<li><p><strong>CurvesV</strong>. Set of curves along V direction. This input is mandatory. At
least two V-curves is required to build a proper surface.</p></li>
<li><p><strong>T1</strong>. This input is available and mandatory when <strong>Explicit T values</strong>
parameter is checked. For each U-curve, this input should contain a list of T
parameter values, at which this curve intersects V-curves.</p></li>
<li><p><strong>T2</strong>. This input is available and mandatory when <strong>Explicit T values</strong>
parameter is checked. For each V-curve, this input should contain a list of T
parameter values, at which this curve intersects U-curves.</p></li>
<li><p><strong>Intersections</strong>. Intersection points of curves. For each U-curve, this
input must contain a list of points (in 3D space), where this curve
intersects V-curves. This input is mandatory.</p></li>
</ul>
</section>
<section id="parameters">
<h2>Parameters<a class="headerlink" href="#parameters" title="Link to this heading">¶</a></h2>
<p>This node has the following parameters:</p>
<ul>
<li><p><strong>Explicit T values</strong>. If checked, the node expects the user to provide T
parameter values of curve intersections in <strong>T1</strong> and <strong>T2</strong> inputs. In this
case, the node will try to automatically reparametrize input curves in order
to make intersection points located “evenly” in curve’s parameter space (see
illustrations above). If not checked, the node will calculate T values of
intersections according to <strong>Metric</strong> parameter. Unchecked by default.</p></li>
<li><p><strong>Metric</strong>. This node is available in the N panel only, and only when
<strong>Explicit T values</strong> parameter is not checked. This defines the metric,
which the node should use to calculate T values of curve intersections, when
they are not provided by user. The available options are:</p>
<blockquote>
<div><ul class="simple">
<li><p>Manhattan</p></li>
<li><p>Euclidean</p></li>
<li><p>Points (just number of points from the beginning)</p></li>
<li><p>Chebyshev</p></li>
<li><p>Centripetal (square root of Euclidean distance).</p></li>
</ul>
<p>The default option is Points. In most cases, this option gives the best results.</p>
</div></blockquote>
</li>
<li><p><strong>Knotvector accuracy</strong>. This parameter is available in the N panel only.
Number of decimal digits (after decimal point), to which the node should
round values in resulting surface’s knot vectors. More decimal digits will
give more exact results, but can produce a number of knots / control points
located very close to each other, most of them being just an artefact of
floating-point precision issues. The default value is 4.</p></li>
</ul>
</section>
<section id="outputs">
<h2>Outputs<a class="headerlink" href="#outputs" title="Link to this heading">¶</a></h2>
<p>This node has the following output:</p>
<ul class="simple">
<li><p><strong>Surface</strong>. The resulting NURBS surface.</p></li>
</ul>
</section>
<section id="examples-of-usage">
<h2>Examples of usage<a class="headerlink" href="#examples-of-usage" title="Link to this heading">¶</a></h2>
<img alt="https://user-images.githubusercontent.com/284644/123552408-71888680-d78f-11eb-92b7-904edc5a53bb.png" src="https://user-images.githubusercontent.com/284644/123552408-71888680-d78f-11eb-92b7-904edc5a53bb.png" />
<img alt="https://user-images.githubusercontent.com/284644/124376217-4e923100-dcbf-11eb-8a50-4c4f2e21442f.png" src="https://user-images.githubusercontent.com/284644/124376217-4e923100-dcbf-11eb-8a50-4c4f2e21442f.png" />
<p>There are some other examples at github’s PR page: <a class="reference external" href="https://github.com/nortikin/sverchok/pull/4183">https://github.com/nortikin/sverchok/pull/4183</a></p>
</section>
</section>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="Main">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../../main.html">
              <img class="logo" src="../../_static/title_big_b.svg" alt="Logo of Sverchok"/>
            </a></p>
  <div>
    <h3><a href="../../main.html">Table of Contents</a></h3>
    <ul>
<li><a class="reference internal" href="#">NURBS Surface from Curves Net</a><ul>
<li><a class="reference internal" href="#functionality">Functionality</a></li>
<li><a class="reference internal" href="#inputs">Inputs</a></li>
<li><a class="reference internal" href="#parameters">Parameters</a></li>
<li><a class="reference internal" href="#outputs">Outputs</a></li>
<li><a class="reference internal" href="#examples-of-usage">Examples of usage</a></li>
</ul>
</li>
</ul>

  </div>
  <div>
    <h4>Previous topic</h4>
    <p class="topless"><a href="gauss_curvature.html"
                          title="previous chapter">Surface Gauss Curvature</a></p>
  </div>
  <div>
    <h4>Next topic</h4>
    <p class="topless"><a href="implicit_surface_raycast.html"
                          title="next chapter">Implicit Surface Raycast</a></p>
  </div>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../../_sources/nodes/surface/gordon_surface.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<search id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</search>
<script>document.getElementById('searchbox').style.display = "block"</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="Related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="implicit_surface_raycast.html" title="Implicit Surface Raycast"
             >next</a> |</li>
        <li class="right" >
          <a href="gauss_curvature.html" title="Surface Gauss Curvature"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../main.html">Sverchok 1, 2, 0 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="../../nodes.html" >Nodes</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="surface_index.html" >Surface</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">NURBS Surface from Curves Net</a></li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
    &#169; Copyright 2014...2025, sverchok team.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 8.2.3.
    </div>
  </body>
</html>