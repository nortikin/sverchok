<!DOCTYPE html>

<html lang="en" data-content_root="../../">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Surface Formula &#8212; Sverchok 1, 2, 0 documentation</title>
    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=fa44fd50" />
    <link rel="stylesheet" type="text/css" href="../../_static/basic.css?v=b08954a9" />
    <link rel="stylesheet" type="text/css" href="../../_static/alabaster.css?v=27fed22d" />
    <script src="../../_static/documentation_options.js?v=773c2105"></script>
    <script src="../../_static/doctools.js?v=9bcbadda"></script>
    <script src="../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <link rel="icon" href="../../_static/sverchock_icon_b.ico"/>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Insert Knot (NURBS Surface)" href="surface_insert_knot.html" />
    <link rel="prev" title="Surface Extremes" href="surface_extremes.html" />
   
  <link rel="stylesheet" href="../../_static/custom.css" type="text/css" />
  

  
  

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <section id="surface-formula">
<h1>Surface Formula<a class="headerlink" href="#surface-formula" title="Link to this heading">¶</a></h1>
<a class="reference external image-reference" href="https://github.com/nortikin/sverchok/assets/14288520/36abea60-6920-4850-9ca9-8ee9a4592e7a"><img alt="https://github.com/nortikin/sverchok/assets/14288520/36abea60-6920-4850-9ca9-8ee9a4592e7a" src="https://github.com/nortikin/sverchok/assets/14288520/36abea60-6920-4850-9ca9-8ee9a4592e7a" />
</a>
<section id="functionality">
<h2>Functionality<a class="headerlink" href="#functionality" title="Link to this heading">¶</a></h2>
<p>This node generates a Surface, defined by some user-provided formula.</p>
<p>The formula should map the curve’s U and V parameters into one of supported 3D coordinate systems: (X, Y, Z), (Rho, Phi, Z) or (Rho, Phi, Theta).</p>
<p>It is possible to use additional parameters in the formula, they will become inputs of the node.</p>
<p>Surface domain / parametrization specifics: defined by node settings.</p>
<a class="reference external image-reference" href="https://github.com/nortikin/sverchok/assets/14288520/d666e5e8-624a-411b-981d-7cd3ef81ed43"><img alt="https://github.com/nortikin/sverchok/assets/14288520/d666e5e8-624a-411b-981d-7cd3ef81ed43" src="https://github.com/nortikin/sverchok/assets/14288520/d666e5e8-624a-411b-981d-7cd3ef81ed43" />
</a>
</section>
<section id="expression-syntax">
<h2>Expression syntax<a class="headerlink" href="#expression-syntax" title="Link to this heading">¶</a></h2>
<p>Syntax being used for formulas is standard Python’s syntax for expressions.
For exact syntax definition, please refer to <a class="reference external" href="https://docs.python.org/3/reference/expressions.html">https://docs.python.org/3/reference/expressions.html</a>.</p>
<p>In short, you can use usual mathematical operations (<cite>+</cite>, <cite>-</cite>, <cite>*</cite>, <cite>/</cite>, <cite>**</cite> for power), numbers, variables, parenthesis, and function call, such as <cite>sin(x)</cite>.</p>
<p>One difference with Python’s syntax is that you can call only restricted number of Python’s functions. Allowed are:</p>
<ul class="simple">
<li><p>Functions from math module:</p>
<ul>
<li><p>acos, acosh, asin, asinh, atan, atan2,
atanh, ceil, copysign, cos, cosh, degrees,
erf, erfc, exp, expm1, fabs, factorial, floor,
fmod, frexp, fsum, gamma, hypot, isfinite, isinf,
isnan, ldexp, lgamma, log, log10, log1p, log2, modf,
pow, radians, sin, sinh, sqrt, tan, tanh, trunc;</p></li>
</ul>
</li>
<li><p>Constants from math module: pi, e;</p></li>
<li><p>Additional functions: abs, sign;</p></li>
<li><p>From mathutlis module: Vector, Matrix;</p></li>
<li><p>Python type conversions: tuple, list, dict.</p></li>
</ul>
<p>This restriction is for security reasons. However, Python’s ecosystem does not guarantee that no one can call some unsafe operations by using some sort of language-level hacks. So, please be warned that usage of this node with JSON definition obtained from unknown or untrusted source can potentially harm your system or data.</p>
<p>Examples of valid expressions are:</p>
<ul class="simple">
<li><p>1.0</p></li>
<li><p>x</p></li>
<li><p>x+1</p></li>
<li><p>0.75*X + 0.25*Y</p></li>
<li><p>R * sin(phi)</p></li>
</ul>
</section>
<section id="inputs">
<h2>Inputs<a class="headerlink" href="#inputs" title="Link to this heading">¶</a></h2>
<p>This node has the following inputs:</p>
<ul class="simple">
<li><p><strong>UMin</strong>, <strong>UMax</strong>. Minimum and maximum values of the surface’s U parameter.</p></li>
<li><p><strong>VMin</strong>, <strong>VMax</strong>. Minimum and maximum values of the surface’s V parameter.</p></li>
</ul>
<p>Each variable used in formulas, except for <cite>u</cite> and <cite>v</cite>, also becomes an additional input.</p>
</section>
<section id="parameters">
<h2>Parameters<a class="headerlink" href="#parameters" title="Link to this heading">¶</a></h2>
<p>This node has the following parameters:</p>
<ul>
<li><p><strong>Formula 1</strong>, <strong>Formula 2</strong>, <strong>Formula 3</strong>. Formulas for 3 components
defining surface points in the used coordinate system. Default values define
a torodial surface.</p></li>
<li><p><strong>Output</strong>. This defined the coordinate system being used, and thus it
defines the exact meaning of formula parameters. The available modes are:</p>
<blockquote>
<div><ul class="simple">
<li><p><strong>Cartesian</strong>. Three formulas will define correspondingly X, Y and Z coordinates.</p></li>
<li><p><strong>Cylindrical</strong>. Three formulas will define correspondingly Rho, Phi and Z coordinates.</p></li>
</ul>
<blockquote>
<div><a class="reference external image-reference" href="https://github.com/nortikin/sverchok/assets/14288520/993aed22-60d9-404f-b757-107dfdd94ed3"><img alt="https://github.com/nortikin/sverchok/assets/14288520/993aed22-60d9-404f-b757-107dfdd94ed3" src="https://github.com/nortikin/sverchok/assets/14288520/993aed22-60d9-404f-b757-107dfdd94ed3" />
</a>
</div></blockquote>
<ul class="simple">
<li><p><strong>Spherical</strong>. Three formulas will define correspondingly Rho, Phi and Theta coordinates.</p></li>
</ul>
<blockquote>
<div><a class="reference external image-reference" href="https://github.com/nortikin/sverchok/assets/14288520/9fe5db6f-6909-4235-bce8-418aaee8c5c8"><img alt="https://github.com/nortikin/sverchok/assets/14288520/9fe5db6f-6909-4235-bce8-418aaee8c5c8" src="https://github.com/nortikin/sverchok/assets/14288520/9fe5db6f-6909-4235-bce8-418aaee8c5c8" />
</a>
</div></blockquote>
<p>The default mode is <strong>Cartesian</strong>.</p>
</div></blockquote>
</li>
<li><p><strong>Vectorize</strong>. This parameter is available in the N panel only. If enabled,
then to evaluate formulas for a series of input values, the node will use
NumPy functions to perform several computations at a time; otherwise, the
formulas will be evaluated separately for each input value. The use of
vectorization usually makes computations a lot faster (2x to 100x). The
parameter is enabled by default. If you experience some kind of troubles with
calculating some of functions (errors or not good enough precision), you can
disable this parameter.</p></li>
</ul>
</section>
<section id="outputs">
<h2>Outputs<a class="headerlink" href="#outputs" title="Link to this heading">¶</a></h2>
<p>This node has the following output:</p>
<ul class="simple">
<li><p><strong>Surface</strong>. The generated surface.</p></li>
</ul>
</section>
<section id="examples-of-usage">
<h2>Examples of usage<a class="headerlink" href="#examples-of-usage" title="Link to this heading">¶</a></h2>
<p>The default parameters - a torus:</p>
<a class="reference external image-reference" href="https://user-images.githubusercontent.com/284644/79387280-d558d200-7f84-11ea-9a28-68b5299ce8ec.png"><img alt="https://user-images.githubusercontent.com/284644/79387280-d558d200-7f84-11ea-9a28-68b5299ce8ec.png" src="https://user-images.githubusercontent.com/284644/79387280-d558d200-7f84-11ea-9a28-68b5299ce8ec.png" />
</a>
<ul class="simple">
<li><p>Viz-&gt; <a class="reference internal" href="../viz/viewer_draw_mk4.html"><span class="doc">Viewer Draw</span></a></p></li>
<li><p>Surfaces-&gt; <a class="reference internal" href="evaluate_surface.html"><span class="doc">Evaluate Surface</span></a></p></li>
</ul>
<p>An example of cylindrical coordinates usage:</p>
<a class="reference external image-reference" href="https://user-images.githubusercontent.com/284644/79387284-d689ff00-7f84-11ea-922f-bf28efcd7e53.png"><img alt="https://user-images.githubusercontent.com/284644/79387284-d689ff00-7f84-11ea-922f-bf28efcd7e53.png" src="https://user-images.githubusercontent.com/284644/79387284-d689ff00-7f84-11ea-922f-bf28efcd7e53.png" />
</a>
<ul class="simple">
<li><p>Number-&gt; <a class="reference internal" href="../number/numbers.html"><span class="doc">A Number</span></a></p></li>
<li><p>Viz-&gt; <a class="reference internal" href="../viz/viewer_draw_mk4.html"><span class="doc">Viewer Draw</span></a></p></li>
<li><p>Surfaces-&gt; <a class="reference internal" href="evaluate_surface.html"><span class="doc">Evaluate Surface</span></a></p></li>
</ul>
<p>An example with parameters:</p>
<a class="reference external image-reference" href="https://github.com/nortikin/sverchok/assets/14288520/f71d05b9-35c4-47b6-83c6-623c4d52eb31"><img alt="https://github.com/nortikin/sverchok/assets/14288520/f71d05b9-35c4-47b6-83c6-623c4d52eb31" src="https://github.com/nortikin/sverchok/assets/14288520/f71d05b9-35c4-47b6-83c6-623c4d52eb31" />
</a>
<ul class="simple">
<li><p>Number-&gt; <a class="reference internal" href="../number/list_input.html"><span class="doc">List Input</span></a></p></li>
<li><p>Viz-&gt; <a class="reference internal" href="../viz/viewer_draw_mk4.html"><span class="doc">Viewer Draw</span></a></p></li>
<li><p>Surfaces-&gt; <a class="reference internal" href="evaluate_surface.html"><span class="doc">Evaluate Surface</span></a></p></li>
</ul>
</section>
</section>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="Main">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../../main.html">
              <img class="logo" src="../../_static/title_big_b.svg" alt="Logo of Sverchok"/>
            </a></p>
<h1 class="logo"><a href="../../main.html">Sverchok</a></h1>









<search id="searchbox" style="display: none" role="search">
    <div class="searchformwrapper">
    <form class="search" action="../../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" placeholder="Search"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</search>
<script>document.getElementById('searchbox').style.display = "block"</script><h3>Navigation</h3>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../introduction/introduction.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../installation/installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../user_interface/user_interface.html">User interface</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../tree_evaluation_system.html">Node tree evaluation system</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../data_structure/data_structure_index.html">Data structure</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../nodes.html">Nodes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../tutorials/tutorials.html">Tutorials</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../tutorials/celling.html">Celling design</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../contributing/contributing_to_sverchok.html">Contributing to sverchok</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../../main.html">Documentation overview</a><ul>
  <li><a href="../../nodes.html">Nodes</a><ul>
  <li><a href="surface_index.html">Surface</a><ul>
      <li>Previous: <a href="surface_extremes.html" title="previous chapter">Surface Extremes</a></li>
      <li>Next: <a href="surface_insert_knot.html" title="next chapter">Insert Knot (NURBS Surface)</a></li>
  </ul></li>
  </ul></li>
  </ul></li>
</ul>
</div>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &#169;2014...2025, sverchok team.
      
      |
      Powered by <a href="https://www.sphinx-doc.org/">Sphinx 8.2.3</a>
      &amp; <a href="https://alabaster.readthedocs.io">Alabaster 1.0.0</a>
      
      |
      <a href="../../_sources/nodes/surface/surface_formula.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>