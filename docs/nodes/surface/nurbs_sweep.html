<!DOCTYPE html>

<html lang="en" data-content_root="../../">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>NURBS Sweep &#8212; Sverchok 1, 2, 0 documentation</title>
    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=fa44fd50" />
    <link rel="stylesheet" type="text/css" href="../../_static/basic.css?v=b08954a9" />
    <link rel="stylesheet" type="text/css" href="../../_static/alabaster.css?v=27fed22d" />
    <script src="../../_static/documentation_options.js?v=773c2105"></script>
    <script src="../../_static/doctools.js?v=9bcbadda"></script>
    <script src="../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <link rel="icon" href="../../_static/sverchock_icon_b.ico"/>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Pipe Surface Along Curve" href="pipe.html" />
    <link rel="prev" title="Build NURBS surface" href="nurbs_surface.html" />
   
  <link rel="stylesheet" href="../../_static/custom.css" type="text/css" />
  

  
  

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <section id="nurbs-sweep">
<h1>NURBS Sweep<a class="headerlink" href="#nurbs-sweep" title="Link to this heading">¶</a></h1>
<section id="dependencies">
<h2>Dependencies<a class="headerlink" href="#dependencies" title="Link to this heading">¶</a></h2>
<p>This node can optionally use <a class="reference external" href="https://onurraufbingol.com/NURBS-Python/">Geomdl</a> library; it can also optionally use
<a class="reference external" href="https://www.freecadweb.org/">FreeCAD</a> libraries.</p>
</section>
<section id="functionality">
<h2>Functionality<a class="headerlink" href="#functionality" title="Link to this heading">¶</a></h2>
<p>This node generates a NURBS Surface object by sweeping (extruding) one NURBS
curve (called “profile”) along another NURBS curve (called “path”).</p>
<p>Several profile curves can be also used; in this case the resulting surface
will be interpolated between them.
If several profile curves are used, the user can provide specific values of
path’s curve T parameter, at which profile curves must be placed; otherwise,
the node will place them automatically evenly along T parameter of the path
curve.</p>
<p>It is supposed that initially the provided profile curve(s) are placed near
global origin. If profile curves passes through global origin, then the
resulting surface will go through the path curve.</p>
<p>The node works by placing several copies of profile curve along the path curve,
and then lofting (skinning) between them. If several profile curves are used,
then the node interpolates between them and places these interpolated curves
along the path curve.</p>
<p>Several algorithms to calculate rotation of profile curve are available. In
simplest cases, all of them will give very similar results. In more complex
cases, results will be very different. Different algorithms give best results
in different cases:</p>
<ul class="simple">
<li><p>“Frenet” or “Zero-Twist” algorithms give very good results in case when
extrusion curve has non-zero curvature in all points. If the extrusion curve
has zero curvature points, or, even worse, it has straight segments, these
algorithms will either make “flipping” surface, or give an error.</p></li>
<li><p>“Householder”, “Tracking” and “Rotation difference” algorithms are
“curve-agnostic”, they work independently of curve by itself, depending only
on tangent direction. They give “good enough” result (at least, without
errors or sudden flips) for all extrusion curves, but may make twisted
surfaces in some special cases.</p></li>
<li><p>“Track normal” algorithm is supposed to give good results without twisting
for all extrusion curves. It will give better results with higher values of
“resolution” parameter, but that may be slow.</p></li>
<li><p>“Specified Y” algorithm selects rotation so that it satisfies two conditions:
1) profile plane is perpendicular to curve’s tangent vector, and 2) local Y
axis of the profile curve points in general direction of “Normal” vector,
provided by the user. This algorithm is supposed to give good results for
planar or almost planar path curves. The resulting surface may have twists in places
where original curve’s tangent vector is parallel to offset operation plane’s
normal (i.e. tangent is perpendicular to offset operation plane).</p></li>
</ul>
<p>This node is similar to “Extrude Curve along Curve” node; differences are:</p>
<ul class="simple">
<li><p>“NURBS Sweep” can work with NURBS and NURBS-like curves only, while “Extrude
Curve along Curve” works with arbitrary (e.g. formula-specified) Curve
objects.</p></li>
<li><p>“NURBS Sweep” node always generates a NURBS surface;  for such surface, some
specific API methods can be applied; such surface can be saved in some file
format, which understands only NURBS (at the moment, see “NURBS to JSON”
node; later, nodes to save NURBS in some industry-used formats can appear).</p></li>
<li><p>“NURBS Sweep” supports several profile curves.</p></li>
</ul>
<p>Another similar node is “NURBS Birail”, that one works with two path curves
instead of one.</p>
<p>At the moment, this node can effectively work with the following types of curves:</p>
<ul class="simple">
<li><p>NURBS curves</p></li>
<li><p>Bezier curves</p></li>
<li><p>Cubic splines</p></li>
<li><p>Polylines</p></li>
<li><p>Circular arcs</p></li>
<li><p>Line segments</p></li>
</ul>
<p>Some nodes, that output complex curves composed from simple curves (for
example, “Rounded rectangle”), have <strong>NURBS output</strong> parameter; when it is
checked, such nodes output NURBS curves, so “NURBS Sweep” can work with them.</p>
</section>
<section id="inputs">
<h2>Inputs<a class="headerlink" href="#inputs" title="Link to this heading">¶</a></h2>
<p>This node has the following inputs:</p>
<ul class="simple">
<li><p><strong>Path</strong>. The path curve, along which profile curves must be swept. This
input is mandatory.</p></li>
<li><p><strong>Profile</strong>. Profile curve or curves. The node can work with one profile
curve per path curve, or list of profile curves per path curve. This input is
mandatory.</p></li>
<li><p><strong>VSections</strong>. Number of copies of profile curve (or interpolated curves, if
several profile curves are used) the node will generate for lofting. This
will be equal to number of control points of the resulting surface along it’s
V direction. Bigger values usually correspond to better precision of sweeping
procedure; but too high numbers can cause weird results or be too slow. The
default value is 10.</p></li>
<li><p><strong>V</strong>. Values of V parameter (i.e. path curve’s T parameter), at which
profile curves must be placed for lofting. This input is available and
mandatory if <strong>Explicit V Values</strong> parameter is checked. The node expects
number of values in this input equal to number of profile curves. For one
profile curve, this input has no meaning.</p></li>
<li><p><strong>Resolution</strong>. Number of samples for <strong>Zero-Twist</strong> or <strong>Track normal</strong>
rotation algorithm calculation. The more the number is, the more precise the
calculation is, but the slower. The default value is 50. This input is only
available when <strong>Algorithm</strong> parameter is set to <strong>Zero-Twist</strong> or <strong>Track
normal</strong>.</p></li>
<li><p><strong>Normal</strong>. Orientation vector. This input is available only when
<strong>Algorithm</strong> parameter is set to <strong>Specified Y</strong>. The default value is <code class="docutils literal notranslate"><span class="pre">(0,</span>
<span class="pre">1,</span> <span class="pre">0)</span></code>.</p></li>
</ul>
</section>
<section id="parameters">
<h2>Parameters<a class="headerlink" href="#parameters" title="Link to this heading">¶</a></h2>
<p>This node has the following parameters:</p>
<ul>
<li><p><strong>Implementation</strong>. This defines the implementation of NURBS mathematics to
be used. The available options are:</p>
<ul class="simple">
<li><p><strong>Geomdl</strong>. Use <a class="reference external" href="https://onurraufbingol.com/NURBS-Python/">Geomdl</a> library. This option is available only when Geomdl
package is installed.</p></li>
<li><p><strong>Sverchok</strong>. Use built-in Sverchok implementation.</p></li>
<li><p><strong>FreCAD</strong>. Use <a class="reference external" href="https://www.freecadweb.org/">FreeCAD</a> libraries. This option is available only when
FreeCAD libraries are installed.</p></li>
</ul>
<p>In general, built-in implementation should be faster; but Geomdl
implementation is better tested.  The default option is <strong>Geomdl</strong>, when it
is available; otherwise, built-in implementation is used.</p>
</li>
<li><p><strong>Algorithm</strong>. Algorithm of calculating the orientation of profile curves
with relation to path curve. The available options are:</p>
<ul class="simple">
<li><p><strong>None</strong>. Do not rotate the profile curve, just extrude it as it is. This mode is the default one.</p></li>
<li><p><strong>Frenet</strong>. Rotate the profile curve according to Frenet frame of the extrusion curve.</p></li>
<li><p><strong>Zero-Twist</strong>. Rotate the profile curve according to “zero-twist” frame of the extrusion curve.</p></li>
<li><p><strong>Householder</strong>: calculate rotation by using Householder’s reflection matrix
(see <a class="reference external" href="https://en.wikipedia.org/wiki/QR_decomposition#Using_Householder_reflections">Wikipedia</a> article).</p></li>
<li><p><strong>Tracking</strong>: use the same algorithm as in Blender’s “TrackTo” kinematic
constraint. This node currently always uses X as the Up axis.</p></li>
<li><p><strong>Rotation difference</strong>: calculate rotation as rotation difference between two
vectors.</p></li>
<li><p><strong>Track normal</strong>: try to maintain constant normal direction by tracking it along the curve.</p></li>
</ul>
</li>
<li><p><strong>Explicit V Values</strong>. If checked, then the user has the ability to provide
values of path curve’s parameter values, at which the provided path curves
must be placed; otherwise, the node will calculate these parameters
automatically (evenly). This parameter has no meaning if there is only one
profile curve.</p></li>
<li><p><strong>U Knots</strong>. This parameter is available in the N panel only. This defines
how the node will modify input curves in order to make them use exactly the
same knot vectors. Available options are:</p>
<ul class="simple">
<li><p><strong>Unify</strong>. Additional knots will be inserted for each curve in places where
other curves have knots.</p></li>
<li><p><strong>Average</strong>. Calculate knot vector by averaging knot vectors of the input
curves. This can work only when input curves have the same number of
control points.</p></li>
</ul>
<p><strong>Unify</strong> option often generates a lot of additional control points for the
resulting surface; it is more universal, and more precise in many cases.
<strong>Average</strong> mode does not create additional control points, and so it works
faster, and any following nodes working with the generated surface will work
faster; but <strong>Average</strong> mode is less universal, and in many cases it gives
less precise interpolations. The default value is <strong>Unify</strong>.</p>
</li>
<li><p><strong>Metric</strong>. This parameter is available in the N panel only. Distance type
used for interpolation along V direction. The available values are:</p>
<blockquote>
<div><ul class="simple">
<li><p>Manhattan</p></li>
<li><p>Euclidean</p></li>
<li><p>Points (just number of points from the beginning)</p></li>
<li><p>Chebyshev</p></li>
<li><p>Centripetal (square root of Euclidean distance).</p></li>
</ul>
<p>The default option is Euclidean.</p>
</div></blockquote>
</li>
</ul>
</section>
<section id="outputs">
<h2>Outputs<a class="headerlink" href="#outputs" title="Link to this heading">¶</a></h2>
<p>This node has the following outputs:</p>
<ul class="simple">
<li><p><strong>Surface</strong>. The generated NURBS surface.</p></li>
<li><p><strong>AllProfiles</strong>. Curves that were actually used to construct the surface.
These are the curves provided in the <strong>Profile</strong> input, placed at their
places along path curve and interpolated (if several profiles were used).</p></li>
<li><p><strong>VCurves</strong>. Curves along V direction of the surface, which were used to
calculate surface’s control points during skinning process.</p></li>
</ul>
</section>
<section id="examples-of-usage">
<h2>Examples of usage<a class="headerlink" href="#examples-of-usage" title="Link to this heading">¶</a></h2>
<p>One Profile curve:</p>
<img alt="https://user-images.githubusercontent.com/284644/93505294-1a1dd600-f934-11ea-99cc-f9462affac3c.png" src="https://user-images.githubusercontent.com/284644/93505294-1a1dd600-f934-11ea-99cc-f9462affac3c.png" />
<p>Two Profile curves:</p>
<img alt="https://user-images.githubusercontent.com/284644/93505298-1b4f0300-f934-11ea-91c7-1bd7c7570789.png" src="https://user-images.githubusercontent.com/284644/93505298-1b4f0300-f934-11ea-91c7-1bd7c7570789.png" />
<p>Three Profile curves:</p>
<img alt="https://user-images.githubusercontent.com/284644/93505300-1be79980-f934-11ea-9b0b-71d150312ca2.png" src="https://user-images.githubusercontent.com/284644/93505300-1be79980-f934-11ea-9b0b-71d150312ca2.png" />
</section>
</section>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="Main">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../../main.html">
              <img class="logo" src="../../_static/title_big_b.svg" alt="Logo of Sverchok"/>
            </a></p>
<h1 class="logo"><a href="../../main.html">Sverchok</a></h1>









<search id="searchbox" style="display: none" role="search">
    <div class="searchformwrapper">
    <form class="search" action="../../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" placeholder="Search"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</search>
<script>document.getElementById('searchbox').style.display = "block"</script><h3>Navigation</h3>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../introduction/introduction.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../installation/installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../user_interface/user_interface.html">User interface</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../tree_evaluation_system.html">Node tree evaluation system</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../data_structure/data_structure_index.html">Data structure</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../nodes.html">Nodes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../tutorials/tutorials.html">Tutorials</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../tutorials/celling.html">Celling design</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../contributing/contributing_to_sverchok.html">Contributing to sverchok</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../../main.html">Documentation overview</a><ul>
  <li><a href="../../nodes.html">Nodes</a><ul>
  <li><a href="surface_index.html">Surface</a><ul>
      <li>Previous: <a href="nurbs_surface.html" title="previous chapter">Build NURBS surface</a></li>
      <li>Next: <a href="pipe.html" title="next chapter">Pipe Surface Along Curve</a></li>
  </ul></li>
  </ul></li>
  </ul></li>
</ul>
</div>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &#169;2014...2025, sverchok team.
      
      |
      Powered by <a href="https://www.sphinx-doc.org/">Sphinx 8.2.3</a>
      &amp; <a href="https://alabaster.readthedocs.io">Alabaster 1.0.0</a>
      
      |
      <a href="../../_sources/nodes/surface/nurbs_sweep.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>